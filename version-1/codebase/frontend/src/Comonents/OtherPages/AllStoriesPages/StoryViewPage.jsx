/* eslint-disable react/prop-types */
import React, { useState } from "react";
import Stories from "stories-react";
import "stories-react/dist/index.css";
import Background from "../../../assets/Background.png";
import logo from "../../../assets/headerIcon/logo.png";
import Girl from "../../../assets/headerIcon/girl.jpg";
import Travel from "../../../assets/travel.png";
import dummyUserImage from "../../../assets/user_image-removebg-preview.png";
import { useDispatch } from "react-redux";
import { deleteStory, getActiveStories } from "../../../redux/slices/postSlice";
import ShowBadgeIcon from "../ShowBadgeIcons";


const StoryViewPage = ({
  closeStoryPopup,
  toggleSettingStoryView,
  dropdownOpenStoryViewSetting,
  setDropdownOpenStoryViewSetting,
  hadleShowViewStory,
  isShowvisibleStoryViewID,
  openDropdownIdUser,
  storyData,
  setOpenDropdownIdUser,
  setIsShowvisibleStoryViewID,
  isCreateSocialPopup,
  setIsCreateSocialPopup,
}) => {
  const dispatch = useDispatch();

  // const [activeStory, setActiveStory] = useState(null); // Track the currently active story
  const [showViewers, setShowViewers] = useState(false); // Toggle viewers overlay
  const [activeStory, setActiveStory] = useState(0);
  const [showViewersPopup, setShowViewersPopup] = useState(false);
  const [dropdownSetting, setDropdownSetting] = useState(false);
  const [dropdownViewStory, setDropdownViewStory] = useState(false);


  const handleShowViewStory =() =>{
    setDropdownViewStory(!dropdownViewStory)
  }

  // Handle when a new story starts (or when we click a story)
  const handleStoryStart = (index) => {
    setActiveStory(index); // Update active story index
    // setShowViewersPopup(false); // Reset the viewers popup when switching stories
    console.log("Active Story Index: ", index);
  };

  const handleSetting = (storyId) => {
    // console.log("sdsddadafafafafafaf",storyId)
    setDropdownSetting(true);
  };

  // Handle viewers data for the active story
  const renderViewers = (viewers) => {
    // Count of viewers
    const viewerCount = viewers ? viewers.length : 0;


    return (
      <div className="absolute top-32 left-2 text-white bg-opacity-70 p-2 rounded-md">
        <div className="flex items-center">
          <span className="font-bold">Viewers: </span>
          <span className="ml-2">{viewerCount}</span>
          <button
            className="ml-4 text-sm text-blue-400"
            onClick={() => setShowViewersPopup(true)}
          >
            Show Viewers
          </button>
        </div>

        {/* Popup for Viewers */}
        {showViewersPopup &&
          activeStory ===
            storyData.findIndex(
              (story) => story.id === storyData[activeStory].id
            ) && (
            <div className="absolute top-0 left-0 w-full h-full bg-black bg-opacity-50 flex items-center justify-center z-10">
              <div className="bg-white p-4 rounded-lg w-1/3">
                <h3 className="font-bold text-xl">Viewers List</h3>
                <ul className="mt-2">
                  {viewers && viewers.length > 0 ? (
                    viewers.map((viewer, idx) => {
                      return (
                        <li
                          key={viewer?.user_id}
                          className="flex items-center space-x-2"
                        >
                          {/* Profile Image */}
                          <img
                            src={
                              viewer?.profile_image || "/default-profile.png"
                            }
                            alt={viewer?.user_name}
                            className="w-8 h-8 rounded-full object-cover"
                          />

                          {/* Full Name and Username */}
                          <div className="text-sm">
                            <p className="font-bold">{viewer?.full_name}</p>
                            <p className="text-gray-500">
                              @{viewer?.user_name}
                            </p>
                          </div>
                        </li>
                      );
                    })
                  ) : (
                    <span>No viewers yet</span>
                  )}
                </ul>
                <button
                  className="mt-4 text-red-500"
                  onClick={() => setShowViewersPopup(false)}
                >
                  Close
                </button>
              </div>
            </div>
          )}
      </div>
    );
  };

  const deleteThisStory = async (storyid) => {
    // console.log("====storyid===>", storyid);
    try {
      const deleteResponse = await dispatch(deleteStory(storyid)).unwrap();
      await dispatch(getActiveStories());
      await setOpenDropdownIdUser(null);
      await closeStoryPopup();
    } catch (error) {
      console.log("===error in delete stoty====>", error);
    }
  };

  // console.log("===storyData===>",storyData)

  // Verify and preprocess the stories data to ensure correct formatting
  // const processedStoriesData = storyData?.map((story) => ({
  //   ...story,
  //   header: (
  //     <div key={story?.id}>
  //       <div className="flex items-center justify-between px-4">
  //         <div className="flex items-center gap-[8px]">
  //           <div>
  //             <img
  //               src={story?.profile_image || dummyUserImage}
  //               alt="profile"
  //               className="w-[44px] h-[44px] object-cover rounded-full"
  //             />
  //           </div>
  //           <div className="flex flex-col">
  //             <p className="flex items-center gap-[5px] font-poppins font-semibold text-[16px] text-[#FFFFFF]">
  //               {story.full_name}
  //               <svg
  //                 width="16"
  //                 height="16"
  //                 viewBox="0 0 16 16"
  //                 fill="none"
  //                 xmlns="http://www.w3.org/2000/svg"
  //               >
  //                 <path
  //                   d="M8 0L14.2547 3.01208L15.7994 9.78017L11.4711 15.2078H4.52893L0.200577 9.78017L1.74535 3.01208L8 0Z"
  //                   fill="#9747FF"
  //                 />
  //                 <path
  //                   fillRule="evenodd"
  //                   clipRule="evenodd"
  //                   d="M11.6843 5.53415C11.8633 5.71314 11.8633 6.00334 11.6843 6.18233L7.40656 10.4601C7.22757 10.6391 6.93736 10.6391 6.75837 10.4601L4.31393 8.01566C4.13494 7.83667 4.13494 7.54647 4.31393 7.36748C4.49292 7.18849 4.78312 7.18849 4.96211 7.36748L7.08246 9.48783L11.0362 5.53415C11.2151 5.35515 11.5053 5.35515 11.6843 5.53415Z"
  //                   fill="white"
  //                 />
  //               </svg>
  //             </p>
  //             <p className="-mt-1 text-left font-inter font-medium text-[14px] text-[#FFFFFF]">
  //             {story?.badge?.split("-")[0]?.trim()}
  //             </p>
  //           </div>
  //         </div>
  //         <div className="flex items-center gap-[5px]">
  //           <div>
  //             <svg
  //               width="24"
  //               height="24"
  //               viewBox="0 0 24 24"
  //               fill="none"
  //               xmlns="http://www.w3.org/2000/svg"
  //             >
  //               <path
  //                 d="M19.7479 4.99993C21.1652 6.97016 22 9.38756 22 11.9999C22 14.6123 21.1652 17.0297 19.7479 18.9999M15.7453 7.99993C16.5362 9.13376 17 10.5127 17 11.9999C17 13.4872 16.5362 14.8661 15.7453 15.9999M9.63432 5.36561L6.46863 8.5313C6.29568 8.70425 6.2092 8.79073 6.10828 8.85257C6.01881 8.9074 5.92127 8.9478 5.81923 8.9723C5.70414 8.99993 5.58185 8.99993 5.33726 8.99993H3.6C3.03995 8.99993 2.75992 8.99993 2.54601 9.10892C2.35785 9.20479 2.20487 9.35777 2.10899 9.54594C2 9.75985 2 10.0399 2 10.5999V13.3999C2 13.96 2 14.24 2.10899 14.4539C2.20487 14.6421 2.35785 14.7951 2.54601 14.8909C2.75992 14.9999 3.03995 14.9999 3.6 14.9999H5.33726C5.58185 14.9999 5.70414 14.9999 5.81923 15.0276C5.92127 15.0521 6.01881 15.0925 6.10828 15.1473C6.2092 15.2091 6.29568 15.2956 6.46863 15.4686L9.63431 18.6342C10.0627 19.0626 10.2769 19.2768 10.4608 19.2913C10.6203 19.3038 10.7763 19.2392 10.8802 19.1175C11 18.9773 11 18.6744 11 18.0686V5.9313C11 5.32548 11 5.02257 10.8802 4.88231C10.7763 4.76061 10.6203 4.69602 10.4608 4.70858C10.2769 4.72305 10.0627 4.93724 9.63432 5.36561Z"
  //                 stroke="white"
  //                 strokeWidth="2"
  //                 strokeLinecap="round"
  //                 strokeLinejoin="round"
  //               />
  //             </svg>
  //           </div>
  //           <div>
  //             <svg
  //               width="24"
  //               height="24"
  //               viewBox="0 0 24 24"
  //               fill="none"
  //               xmlns="http://www.w3.org/2000/svg"
  //             >
  //               <path
  //                 d="M5 5.12037C5 4.14921 5 3.66363 5.20249 3.39595C5.37889 3.16277 5.64852 3.01847 5.9404 3.00104C6.27544 2.98103 6.67946 3.25039 7.48752 3.78909L18.0031 10.7995C18.6708 11.2446 19.0046 11.4672 19.1209 11.7477C19.2227 11.9929 19.2227 12.2686 19.1209 12.5138C19.0046 12.7943 18.6708 13.0169 18.0031 13.462L7.48752 20.4724C6.67946 21.0111 6.27544 21.2805 5.9404 21.2604C5.64852 21.243 5.37889 21.0987 5.20249 20.8655C5 20.5979 5 20.1123 5 19.1411V5.12037Z"
  //                 stroke="white"
  //                 strokeWidth="2"
  //                 strokeLinecap="round"
  //                 strokeLinejoin="round"
  //               />
  //             </svg>
  //           </div>
  //           <div className="cursor-pointer">
  //             <svg
  //               width="24"
  //               height="24"
  //               viewBox="0 0 24 24"
  //               fill="none"
  //               xmlns="http://www.w3.org/2000/svg"
  //               onClick={() => toggleSettingStoryView(story?.id)}
  //             >
  //               <path
  //                 d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"
  //                 stroke="white"
  //                 strokeWidth="2"
  //                 strokeLinecap="round"
  //                 strokeLinejoin="round"
  //               />
  //               <path
  //                 d="M12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6Z"
  //                 stroke="white"
  //                 strokeWidth="2"
  //                 strokeLinecap="round"
  //                 strokeLinejoin="round"
  //               />
  //               <path
  //                 d="M12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20Z"
  //                 stroke="white"
  //                 strokeWidth="2"
  //                 strokeLinecap="round"
  //                 strokeLinejoin="round"
  //               />
  //             </svg>
  //             {/* DropdownSetting Menu */}
  //             {openDropdownIdUser && story?.id && (
  //               <div className="fixed top-[23%] left-[55%] transform -translate-x-1/2 -translate-y-1/2 bg-white border border-[#ddd] rounded-md rounded-[16px] shadow-md w-[200px]">
  //                 <div className="flex items-center justify-between p-2 px-4 border-b border-b-gray-500 w-full">
  //                   <h6 className="font-poppins font-semibold text-[16px] text-[#212626] ">
  //                     More Options
  //                   </h6>

  //                   {/* Close Button (X) */}
  //                   <button
  //                     className="hover:text-[#2DC6BE] font-poppins font-semibold text-[16px] text-[#212626]"
  //                     // onClick={() => setDropdownOpenStoryViewSetting(false)}
  //                     onClick={() =>
  //                       setOpenDropdownIdUser(null)
  //                   }
  //                     aria-label="Close"
  //                   >
  //                     &#x2715;
  //                   </button>
  //                 </div>
  //                 <ul>
  //                   <li
  //                     className="font-inter font-medium text-[16px] text-[#E30000] px-4 py-2 flex items-center gap-[5px] cursor-pointer hover:bg-[#f0f0f0]"
  //                     onClick={() => deleteThisStory(story?.id)}
  //                   >
  //                     <svg
  //                       width="24"
  //                       height="24"
  //                       viewBox="0 0 24 24"
  //                       fill="none"
  //                       xmlns="http://www.w3.org/2000/svg"
  //                     >
  //                       <path
  //                         d="M9 3H15M3 6H21M19 6L18.2987 16.5193C18.1935 18.0975 18.1409 18.8867 17.8 19.485C17.4999 20.0118 17.0472 20.4353 16.5017 20.6997C15.882 21 15.0911 21 13.5093 21H10.4907C8.90891 21 8.11803 21 7.49834 20.6997C6.95276 20.4353 6.50009 20.0118 6.19998 19.485C5.85911 18.8867 5.8065 18.0975 5.70129 16.5193L5 6M10 10.5V15.5M14 10.5V15.5"
  //                         stroke="#E30000"
  //                         strokeWidth="2"
  //                         strokeLinecap="round"
  //                         strokeLinejoin="round"
  //                       />
  //                     </svg>
  //                     Delete story
  //                   </li>
  //                 </ul>
  //               </div>
  //              )}
  //           </div>
  //         </div>
  //       </div>

  //       <div className="flex flex-col items-center justify-between absolute -bottom-[593px] z-10 w-[396px] px-4 py-[10px] bg-white shadow-lg rounded-t-[16px]">
  //         <div className="border-b-2 border-b-gray flex items-center justify-between w-full">
  //           <h5 className="font-poppins font-semibold text-[20px] text-[#212626]">
  //             Viewed({story?.viewers.length})
  //           </h5>
  //           <p
  //             className="font-inter font-medium text-[14px] text-[#2DC6BE]"
  //             onClick={() => hadleShowViewStory()}
  //           >
  //             {story?.viewers?.length > 0 ? isShowvisibleStoryViewID ? "Hide" : "See more" : ""}
  //           </p>
  //         </div>
  //         {isShowvisibleStoryViewID &&
  //           story.viewers.map((viewerData, viewerIndex) => (
  //             <div key={viewerIndex} className="flex items-center gap-[8px] my-4 w-full">
  //               <div>
  //                 <img
  //                   src={viewerData?.profile_image || dummyUserImage}
  //                   alt="profile"
  //                   className="w-[44px] h-[44px] rounded-full"
  //                 />
  //               </div>
  //               <div className="flex flex-col">
  //                 <p className="flex items-center gap-[5px] font-poppins font-semibold text-[16px] text-[#212626]">
  //                 {viewerData?.full_name}
  //                   <svg
  //                     width="24"
  //                     height="24"
  //                     viewBox="0 0 24 24"
  //                     fill="none"
  //                     xmlns="http://www.w3.org/2000/svg"
  //                   >
  //                     <path
  //                       d="M12 0C15.1826 0 18.2348 1.26428 20.4853 3.51472C22.7357 5.76515 24 8.8174 24 12C23.9988 15.1818 22.734 18.2329 20.4837 20.4824C18.2334 22.7318 15.1818 23.9955 12 23.9955H0V12C0 8.8174 1.26428 5.76515 3.51472 3.51472C5.76515 1.26428 8.8174 0 12 0Z"
  //                       fill="#2DC6BE"
  //                     />
  //                     <path
  //                       style={{ mixBlendMode: screen }}
  //                       opacity="0.9"
  //                       d="M2.10585e-07 24V12C-0.000295188 10.4233 0.310191 8.86201 0.913704 7.40538C1.51722 5.94876 2.40192 4.62537 3.51723 3.51089C4.63254 2.39641 5.95659 1.5127 7.41366 0.910276C8.87074 0.307852 10.4323 -0.00146834 12.009 5.24029e-06C13.8502 -0.0014912 15.6671 0.421379 17.3184 1.23578C18.9698 2.05019 20.4113 3.23422 21.5309 4.69595L2.10585e-07 24Z"
  //                       fill="url(#paint0_linear_40000261_25329)"
  //                     />
  //                     <path
  //                       d="M11.8946 21.7721C17.3491 21.7721 21.7709 17.3503 21.7709 11.8958C21.7709 6.44129 17.3491 2.01953 11.8946 2.01953C6.44007 2.01953 2.01831 6.44129 2.01831 11.8958C2.01831 17.3503 6.44007 21.7721 11.8946 21.7721Z"
  //                       fill="white"
  //                     />
  //                     <g clipPath="url(#clip0_40000261_25329)">
  //                       <rect
  //                         x="2.01831"
  //                         y="2.01953"
  //                         width="19.7526"
  //                         height="19.7526"
  //                         rx="9.87629"
  //                         fill="#231F20"
  //                       />
  //                       <path
  //                         d="M18.7732 11.4054C18.6827 11.3252 18.5799 11.233 18.4753 11.1719C18.4802 11.2413 18.4867 11.2898 18.5428 11.3359C18.6034 11.3857 18.6974 11.3988 18.7732 11.4054Z"
  //                         fill="url(#paint1_linear_40000261_25329)"
  //                       />
  //                       <path
  //                         d="M15.2896 9.37906L15.3245 9.37401C15.2707 9.30152 14.8553 9.12732 14.7527 9.08594C14.781 9.20786 14.8006 9.31299 14.7905 9.43872C14.9567 9.41533 15.1215 9.38695 15.2896 9.37906Z"
  //                         fill="#C7D6BA"
  //                       />
  //                       <path
  //                         d="M19.6167 9.45233C19.6658 9.27739 19.8649 8.74739 19.8486 8.60156C19.7209 8.74801 19.2942 9.22074 19.2449 9.39137C19.2659 9.40107 19.2562 9.40011 19.2732 9.39897C19.3877 9.41651 19.5025 9.43275 19.6167 9.45233Z"
  //                         fill="#C7D6BA"
  //                       />
  //                       <path
  //                         d="M13.2432 18.1992C13.0985 18.2196 12.983 18.41 12.8981 18.5228C12.8337 18.6084 12.7701 18.6969 12.7156 18.7892C12.8721 18.7839 13.0287 18.7805 13.1852 18.779L13.7129 18.7748C13.6299 18.6675 13.3403 18.2183 13.2432 18.1992Z"
  //                         fill="#C7D6BA"
  //                       />
  //                       <path
  //                         d="M10.9698 4.0524C11.1177 4.13578 11.243 4.31669 11.3338 4.45689C11.4719 4.24886 11.5828 4.06659 11.8404 4.00597C12.0433 3.99325 12.1897 4.08413 12.3738 4.15202C12.3179 3.997 12.2523 3.86752 12.0946 3.79481C11.9598 3.73237 11.7824 3.73146 11.6442 3.78345C11.5059 3.83545 11.4183 3.93705 11.3395 4.057C11.2443 3.90703 11.1358 3.80048 10.9563 3.76092C10.8833 3.74485 10.8082 3.74451 10.7339 3.74957C10.5855 3.78323 10.4807 3.82903 10.3969 3.96436C10.3642 4.01709 10.3371 4.07368 10.3093 4.12897L10.3248 4.12528C10.5392 4.07221 10.748 3.92741 10.9698 4.0524Z"
  //                         fill="#9EB34A"
  //                       />
  //                       <path
  //                         d="M16.5906 9.2237C16.7448 9.51995 16.8901 9.82942 17.0175 10.1383L17.1542 10.4903C17.3865 10.066 17.7365 9.7285 18.1793 9.52767C18.0748 9.3651 17.605 8.51882 17.5263 8.46875C17.5494 8.92672 17.5477 9.38383 17.548 9.84242C17.3631 9.75012 17.149 9.6652 16.9808 9.54515C16.8433 9.44712 16.7277 9.32156 16.5906 9.2237Z"
  //                         fill="#C7D6BA"
  //                       />
  //                       <path
  //                         d="M13.7976 18.2041C13.9001 18.4131 14.0833 18.5973 14.221 18.7843C14.7322 18.7778 15.2433 18.7776 15.7543 18.7837C15.6219 18.5759 15.4665 18.392 15.3195 18.1953C14.8128 18.198 14.3048 18.2102 13.7976 18.2041Z"
  //                         fill="#C7D6BA"
  //                       />
  //                       <path
  //                         d="M12.1942 18.7747L12.2095 18.7544C12.3571 18.578 12.5124 18.3968 12.6461 18.2095C12.0725 18.1915 11.4946 18.2027 10.9205 18.2024C10.7993 18.4022 10.6424 18.5789 10.5281 18.7825C10.7177 18.7804 12.1397 18.7938 12.1942 18.7747Z"
  //                         fill="#C7D6BA"
  //                       />
  //                       <path
  //                         d="M8.11816 10.1634C7.99894 10.0926 7.88539 10.0795 7.7509 10.0884C7.61856 10.1244 7.51784 10.1741 7.44757 10.2998C7.38262 10.4158 7.37011 10.5491 7.36412 10.6794C7.25599 10.6208 7.13497 10.5772 7.01151 10.6143C6.92964 10.639 6.86967 10.6976 6.83153 10.7732C6.80188 10.8319 6.79306 10.8877 6.78983 10.9527C6.54512 10.8379 6.28627 10.7994 6.02697 10.8959C5.89712 10.9444 5.78266 11.0227 5.67261 11.1059L8.64435 11.0956C9.26163 11.0907 9.88344 11.111 10.4998 11.0924C10.3854 10.9793 10.2607 10.8639 10.0884 10.8667C10.0516 10.8673 10.0148 10.8746 9.9785 10.8811C9.89108 10.7985 9.79959 10.7388 9.67399 10.7442C9.56524 10.7489 9.47596 10.7977 9.38226 10.8479C9.36721 10.667 9.31154 10.5119 9.16777 10.3918C9.06185 10.3033 8.92498 10.257 8.78716 10.272C8.66653 10.2851 8.54058 10.3493 8.46765 10.4483C8.43981 10.4862 8.41741 10.5295 8.39466 10.5706C8.35228 10.3971 8.27664 10.2575 8.11816 10.1634Z"
  //                         fill="#9EB34A"
  //                       />
  //                       <path
  //                         d="M10.2 5.51379C9.95621 5.2952 9.6392 5.15051 9.30606 5.16339C9.1667 5.16878 9.06582 5.21669 8.95062 5.28776C8.91735 5.08404 8.80063 4.88588 8.63055 4.7665C8.51581 4.68596 8.37028 4.63078 8.22849 4.65633C8.10402 4.67903 8.02798 4.75345 7.94865 4.8445C7.88268 4.70259 7.79589 4.5852 7.6421 4.53043C7.5767 4.5071 7.51197 4.50068 7.443 4.5C7.24446 4.52594 7.07461 4.60155 6.95189 4.76747C6.88727 4.85483 6.85049 4.94956 6.81174 5.04998C6.6614 5.03125 6.51594 5.02915 6.38869 5.12638C6.31927 5.1794 6.28283 5.24297 6.24232 5.31818C5.96802 5.23962 5.73372 5.24638 5.47968 5.3863C5.41258 5.42237 5.35012 5.46654 5.2937 5.51782C5.65411 5.50261 6.01866 5.51782 6.37969 5.51725C7.01667 5.51623 7.65415 5.50857 8.29107 5.51453C8.92556 5.51935 9.56632 5.53967 10.2 5.51379Z"
  //                         fill="#9EB34A"
  //                       />
  //                       <path
  //                         d="M12.2367 8.04593L12.9414 8.8057C13.0103 8.74758 13.1495 8.65057 13.1595 8.55174C13.1693 8.45468 12.4618 7.14702 12.3625 6.98508C12.4926 6.85657 12.6293 6.7251 12.7306 6.5723C12.8655 6.36891 13.0358 5.85101 13.1217 5.60363C13.0368 5.59228 12.9496 5.57525 12.8642 5.57031C12.4844 5.89744 12.1344 6.26481 11.7836 6.6223C11.4007 6.56662 11.0174 6.53341 10.6324 6.49743C10.3713 6.47296 10.1045 6.43822 9.84242 6.43851C9.76728 6.51973 9.69435 6.60051 9.62651 6.68826C9.8758 6.79044 10.1351 6.86309 10.3921 6.94279L11.2947 7.23109C11.0256 7.54141 10.817 7.90754 10.5434 8.21434C10.2461 8.19232 9.95066 8.14958 9.6531 8.12965C9.61995 8.17313 9.58442 8.21605 9.55347 8.26106C9.68224 8.35415 9.80564 8.45598 9.9265 8.55918C10.1127 8.5967 10.3027 8.60686 10.4894 8.64029C10.5211 8.75632 10.552 8.87255 10.5821 8.98899C10.61 9.08265 10.6344 9.17971 10.6737 9.26917C10.7776 9.34739 10.8904 9.41227 10.9938 9.49055L11.069 9.38327C11.0113 9.07612 10.9171 8.77704 10.8657 8.46887C11.1959 8.22978 11.5224 7.8762 11.8212 7.5925C11.9657 7.7377 12.0978 7.89522 12.2367 8.04593Z"
  //                         fill="#9EB34A"
  //                       />
  //                       <path
  //                         d="M16.2637 17.3414C16.1455 17.373 15.9982 17.3478 15.8754 17.3561C15.8087 17.5532 15.7353 17.7512 15.657 17.944C15.8499 18.2318 16.0799 18.4963 16.2676 18.7867C16.8075 18.7511 17.4185 18.7662 17.9602 18.7878C18.3889 16.9353 18.4949 14.8302 17.9187 12.9971C17.8213 12.6871 17.7102 12.3565 17.5505 12.0727L17.2419 11.9297C17.3401 12.1649 17.423 12.4336 17.5451 12.6557C17.4105 12.5728 17.2911 12.4869 17.1773 12.3764L17.5304 13.3144C17.3278 13.1821 17.1555 13.0276 16.9821 12.8598C17.084 13.2262 17.2946 13.6472 17.4382 14.009C17.236 13.8608 17.0638 13.6988 16.8867 13.5214C17.0208 13.8741 17.1207 14.2392 17.2103 14.6056C17.0315 14.4368 16.8922 14.2724 16.7593 14.0639C16.8492 14.5124 16.8994 14.9725 17.0143 15.4149C16.9265 15.3341 16.8433 15.2526 16.7696 15.1585C16.7026 15.3317 16.6379 15.507 16.5588 15.6751C16.3596 16.0987 16.1264 16.5095 15.9826 16.9565C16.0788 16.9546 16.1728 16.9536 16.2686 16.9648C16.3329 16.9935 16.3738 17.0253 16.3972 17.0944C16.406 17.1203 16.4093 17.1478 16.4069 17.1751C16.4044 17.2024 16.3963 17.2289 16.3831 17.2528C16.3576 17.2978 16.3135 17.3282 16.2637 17.3414Z"
  //                         fill="#C7D6BA"
  //                       />
  //                       <path
  //                         d="M5.3855 19.3242C5.73856 19.6607 6.27086 20.0294 6.69249 20.2859C6.74383 20.3176 6.79543 20.349 6.84729 20.3798C6.89916 20.4107 6.95129 20.4411 7.00368 20.4709C7.05615 20.5008 7.10884 20.5302 7.16176 20.5592C7.21468 20.5881 7.26791 20.6165 7.32143 20.6443C7.37492 20.6722 7.42863 20.6997 7.48257 20.7267C7.53651 20.7537 7.59073 20.7802 7.64524 20.8062C7.69967 20.8322 7.75436 20.8577 7.80932 20.8827C7.86428 20.9076 7.91941 20.9321 7.9747 20.9562C8.03008 20.9801 8.08566 21.0036 8.14144 21.0265C8.19723 21.0495 8.25321 21.072 8.30937 21.0939C8.36557 21.1159 8.42197 21.1373 8.47854 21.1582C8.53512 21.1792 8.59189 21.1995 8.64885 21.2194C8.70585 21.2393 8.76297 21.2587 8.82023 21.2774C8.87749 21.2962 8.93496 21.3145 8.99263 21.3324C9.05023 21.3502 9.10801 21.3675 9.16599 21.3842C9.22396 21.4008 9.28205 21.417 9.34026 21.4327C9.39853 21.4485 9.457 21.4636 9.51565 21.4782C9.57431 21.4927 9.63294 21.5068 9.69156 21.5204C9.75036 21.5339 9.80925 21.5469 9.8682 21.5594C9.92716 21.5719 9.98628 21.5838 10.0456 21.5951C10.1048 21.6064 10.1641 21.6173 10.2235 21.6276C10.2829 21.6379 10.3424 21.6477 10.402 21.6568C10.4617 21.666 10.5213 21.6747 10.5811 21.6828C10.6408 21.691 10.7006 21.6985 10.7605 21.7055C10.8204 21.7126 10.8804 21.7191 10.9404 21.725C11.0004 21.7309 11.0605 21.7362 11.1206 21.7411C11.1807 21.7459 11.2408 21.7502 11.301 21.7539C11.3612 21.7577 11.4214 21.7609 11.4816 21.7635C11.542 21.7661 11.6023 21.7682 11.6627 21.7697C11.723 21.7713 11.7834 21.7723 11.8437 21.7727C11.9041 21.7731 11.9644 21.773 12.0248 21.7724C12.0851 21.7717 12.1455 21.7705 12.2059 21.7687C13.8371 21.728 15.617 21.2168 17.0111 20.3609C17.3892 20.1199 17.7551 19.8764 18.1068 19.5969C18.2162 19.51 18.3319 19.423 18.4309 19.3244L9.45913 19.3268C8.10082 19.326 6.74234 19.3413 5.3855 19.3242Z"
  //                         fill="#334938"
  //                       />
  //                       <path
  //                         d="M21.7687 11.6753C21.7673 11.611 21.7653 11.5466 21.7627 11.4823C21.7508 11.1613 21.7241 10.8415 21.6827 10.523C21.6412 10.2045 21.5852 9.88849 21.5145 9.57504C21.5004 9.51624 21.4858 9.45758 21.4706 9.39908C21.4554 9.34058 21.4396 9.28217 21.4234 9.22385C21.4071 9.16561 21.3902 9.10752 21.3728 9.04959C21.3555 8.99165 21.3376 8.93379 21.3192 8.87601C21.3007 8.81841 21.2817 8.76098 21.2622 8.70373C21.2427 8.64647 21.2226 8.58947 21.202 8.5327C21.1814 8.47594 21.1603 8.41927 21.1387 8.3627C21.117 8.30612 21.0948 8.24985 21.0719 8.19388C21.0493 8.13784 21.026 8.08202 21.0022 8.02643C20.9784 7.97084 20.9542 7.91544 20.9294 7.86023C20.9046 7.80509 20.8794 7.75022 20.8536 7.69561C20.8278 7.64101 20.8014 7.58657 20.7743 7.53231C20.7475 7.47808 20.7202 7.42415 20.6924 7.37053C20.6645 7.31691 20.6362 7.26351 20.6075 7.21035C20.5787 7.15714 20.5493 7.10427 20.5195 7.05175C20.4897 6.99923 20.4594 6.94697 20.4288 6.89497C20.398 6.84297 20.3667 6.79126 20.3349 6.73984C20.3031 6.68841 20.2709 6.63732 20.2382 6.58658C20.2055 6.53579 20.1723 6.48529 20.1386 6.43507C20.1049 6.38486 20.0708 6.33498 20.0362 6.28545C20.0016 6.23587 19.9665 6.18668 19.931 6.13786C19.8955 6.08905 19.8595 6.04048 19.8231 5.99215C19.7866 5.94394 19.7498 5.89609 19.7125 5.8486C19.6751 5.80111 19.6374 5.75394 19.5993 5.70709C19.5611 5.66024 19.5225 5.61381 19.4834 5.56779C19.4442 5.52177 19.4047 5.476 19.3647 5.43048C19.3248 5.38507 19.2844 5.34011 19.2436 5.29561C19.2029 5.25111 19.1616 5.20681 19.1199 5.16273C19.0784 5.11891 19.0364 5.0755 18.9939 5.03251C18.9514 4.98952 18.9086 4.94691 18.8655 4.90468C18.8223 4.86245 18.7789 4.82065 18.7352 4.77929C18.6914 4.73793 18.647 4.69697 18.602 4.6564C16.5719 2.79979 14.0723 1.9018 11.332 2.0319C11.2646 2.0353 11.1972 2.03943 11.1298 2.04427C11.0623 2.04911 10.995 2.05464 10.9278 2.06085C10.8605 2.06709 10.7933 2.07402 10.7262 2.08162C10.659 2.08923 10.592 2.09755 10.525 2.1066C10.4581 2.11564 10.3913 2.12535 10.3245 2.13572C10.2577 2.14609 10.191 2.15717 10.1246 2.16898C10.058 2.18075 9.99161 2.19322 9.92534 2.20639C9.85907 2.21956 9.79293 2.23341 9.72692 2.24794C9.66094 2.26247 9.59512 2.27761 9.52945 2.29335C9.46378 2.30909 9.39828 2.32567 9.33295 2.34307C9.26758 2.36033 9.20244 2.37827 9.13752 2.39688C9.07261 2.4155 9.00782 2.43478 8.94317 2.45473C8.8786 2.47463 8.81425 2.49524 8.75012 2.51654C8.686 2.53785 8.6221 2.55981 8.55843 2.58244C8.49472 2.60515 8.43128 2.62842 8.36809 2.65226C8.30491 2.6761 8.24196 2.7007 8.17923 2.72605C8.11647 2.75126 8.05402 2.77714 7.9919 2.80371C7.92977 2.83027 7.86789 2.85744 7.80626 2.88522C7.74462 2.91303 7.68331 2.94141 7.62232 2.97036C7.56132 2.99931 7.50061 3.02904 7.44019 3.05954C7.37983 3.08981 7.31973 3.12078 7.25987 3.15246C7.20001 3.18413 7.14058 3.2163 7.08158 3.24896C7.02244 3.28177 6.96367 3.3152 6.90528 3.34926C6.84689 3.38331 6.78884 3.41796 6.73113 3.45319C6.67342 3.4885 6.61608 3.52435 6.55913 3.56076C6.50217 3.59716 6.44559 3.63419 6.38939 3.67184C6.33322 3.70946 6.27741 3.74766 6.22197 3.78645C6.16652 3.82524 6.11152 3.86457 6.05698 3.90446C6.0024 3.94438 5.94822 3.98485 5.89443 4.02587C5.84064 4.0669 5.7873 4.10852 5.73442 4.15075C5.68161 4.19287 5.62914 4.23556 5.57701 4.27881C5.52488 4.32206 5.47319 4.36598 5.42193 4.41056C5.10478 4.69091 4.80439 4.98977 4.52231 5.3056C4.46867 5.36554 4.41577 5.42609 4.36361 5.48724C4.31144 5.5484 4.26005 5.61027 4.20943 5.67286C4.15881 5.73541 4.10894 5.79855 4.05983 5.86228C4.01071 5.926 3.96244 5.99033 3.91498 6.05527C3.86746 6.12021 3.82074 6.18573 3.77484 6.25184C3.72893 6.31795 3.68387 6.38474 3.63967 6.45222C3.59538 6.51942 3.552 6.58716 3.50953 6.65543C3.46706 6.7237 3.4253 6.79251 3.38426 6.86188C3.34338 6.93117 3.30332 7.00098 3.26409 7.07133C3.22486 7.14168 3.18652 7.21245 3.14906 7.28363C3.11161 7.35485 3.07504 7.42656 3.03935 7.49876C3.00367 7.57096 2.96886 7.64354 2.93491 7.7165C2.90096 7.7895 2.86792 7.86293 2.83578 7.9368C2.80364 8.01067 2.77243 8.08488 2.74214 8.15943C2.71197 8.23401 2.68258 8.30898 2.65399 8.38432C2.6254 8.45967 2.59786 8.53535 2.57138 8.61138C2.54479 8.68736 2.51912 8.76369 2.49438 8.84036C2.46963 8.91703 2.44591 8.99396 2.4232 9.07116C2.40034 9.14836 2.37843 9.22593 2.35745 9.30389C2.33648 9.38184 2.31651 9.45985 2.29754 9.53792C2.27845 9.61618 2.26036 9.69466 2.24328 9.77338C2.22619 9.85209 2.21005 9.93099 2.19485 10.0101C2.17976 10.0892 2.16555 10.1685 2.15224 10.2479C2.13892 10.3273 2.12669 10.407 2.11552 10.4868C2.1042 10.5665 2.09391 10.6464 2.08463 10.7264C2.07535 10.8065 2.06701 10.8866 2.05962 10.9668C2.05226 11.047 2.04591 11.1273 2.04055 11.2077C2.0352 11.2881 2.0308 11.3685 2.02737 11.449C2.02397 11.5295 2.02156 11.61 2.02012 11.6905C2.01869 11.771 2.01824 11.8516 2.01877 11.9322C2.01933 12.0128 2.02086 12.0933 2.02335 12.1738C2.02584 12.2543 2.02935 12.3347 2.03387 12.4152C2.03742 12.4799 2.04159 12.5446 2.04638 12.6092C2.05117 12.6738 2.0566 12.7384 2.06267 12.8029C2.06871 12.8674 2.0754 12.9319 2.08276 12.9963C2.09012 13.0606 2.09806 13.125 2.10658 13.1893C2.11518 13.2536 2.1244 13.3177 2.13425 13.3817C2.14409 13.4457 2.15456 13.5096 2.16565 13.5735C2.17674 13.6374 2.18845 13.7011 2.20078 13.7647C2.21312 13.8283 2.22608 13.8917 2.23966 13.9551C2.25324 14.0185 2.26744 14.0817 2.28226 14.1448C2.29708 14.2078 2.31251 14.2708 2.32854 14.3335C2.34461 14.3963 2.36126 14.4589 2.3785 14.5213C2.39574 14.5838 2.41364 14.646 2.4322 14.7081C2.45068 14.7702 2.46979 14.8321 2.48951 14.8938C2.50924 14.9555 2.52953 15.017 2.55039 15.0784C2.57129 15.1397 2.59279 15.2008 2.61489 15.2617C2.637 15.3225 2.65963 15.3832 2.68279 15.4437C2.70602 15.5042 2.7299 15.5644 2.75442 15.6243C2.77894 15.6842 2.804 15.7439 2.82961 15.8034C2.85526 15.8629 2.88148 15.9222 2.90826 15.9811C2.93504 16.0401 2.96241 16.0987 2.99036 16.1571C3.01831 16.2155 3.04682 16.2736 3.0759 16.3315C3.10499 16.3894 3.13463 16.447 3.16485 16.5042C3.19502 16.5615 3.2258 16.6185 3.25719 16.6752C3.28857 16.7318 3.32044 16.7882 3.35281 16.8442C3.38521 16.9002 3.41819 16.9559 3.45176 17.0114C3.48534 17.0668 3.5194 17.1219 3.55395 17.1765C3.58854 17.2312 3.62367 17.2856 3.65936 17.3396C3.69504 17.3937 3.73123 17.4473 3.76793 17.5007C3.80463 17.554 3.84186 17.607 3.87962 17.6596C3.91738 17.7122 3.95565 17.7644 3.99442 17.8162C4.0332 17.8681 4.07246 17.9195 4.11222 17.9705C4.15198 18.0216 4.19226 18.0722 4.23307 18.1225C4.41413 18.3439 4.60808 18.5741 4.81319 18.7736L7.28957 18.7753C7.11417 18.4858 6.82471 18.1892 6.52608 18.0288C7.03406 18.1008 7.27294 18.2117 7.69417 18.5097C7.48483 17.4308 7.19299 16.3652 7.00797 15.2818C6.65367 15.3726 6.29846 15.4898 6.01076 15.7249C5.35245 15.545 4.71242 15.5878 4.11318 15.9319C3.96274 16.0183 3.83351 16.1184 3.70745 16.237C4.12648 15.0987 4.90275 14.1817 6.01025 13.6705C6.11458 13.6224 6.221 13.5795 6.32952 13.5418C6.43804 13.5042 6.54817 13.472 6.65989 13.4453C6.64252 13.3435 6.57966 13.1785 6.63788 13.0873C6.66233 13.049 6.70408 13.0155 6.75014 13.0096C6.77645 13.0063 6.79365 13.0153 6.81656 13.0259C6.8994 13.1099 6.90268 13.2847 6.92763 13.3979C7.90997 13.2364 8.9249 13.5277 9.72488 14.1057C10.0561 14.345 10.322 14.6237 10.5819 14.9359C9.84268 14.7387 9.13096 14.7731 8.45743 15.1654C8.37946 15.2106 8.30453 15.2609 8.23315 15.316C8.19543 15.3041 8.15758 15.2932 8.1196 15.2834C8.08161 15.2736 8.04321 15.2649 8.0044 15.2571C7.96581 15.2495 7.927 15.2429 7.88796 15.2371C7.84892 15.2314 7.80982 15.2268 7.77067 15.2236C7.7314 15.2201 7.6921 15.2177 7.65276 15.2163C7.61341 15.215 7.57403 15.2148 7.53462 15.2156C7.49524 15.2165 7.45592 15.2184 7.41665 15.2213C7.37738 15.2242 7.33821 15.2282 7.29913 15.2334C7.3414 15.4618 7.39832 15.6872 7.4489 15.9139L7.83873 17.6338C7.8866 17.8443 7.94318 18.0531 7.98663 18.2645C8.18993 17.817 8.34433 17.5781 8.68149 17.22C8.63883 17.4694 8.59662 17.7183 8.53738 17.9645C8.48912 18.1656 8.42733 18.3633 8.37505 18.5633C8.80749 18.2462 9.06363 18.1736 9.58892 18.1074C9.28757 18.2432 8.986 18.469 8.84404 18.7772C9.23335 18.7732 9.62269 18.773 10.0121 18.7768C10.2185 18.4354 10.4889 18.1121 10.7133 17.777C10.5153 17.7751 10.0933 17.803 9.92874 17.771C9.87634 17.7609 9.82418 17.7408 9.78587 17.7021C9.74757 17.6634 9.73212 17.612 9.73342 17.5578C9.73467 17.5052 9.74932 17.4573 9.78898 17.4211C9.83498 17.3791 9.90027 17.3607 9.96076 17.354C10.1656 17.3313 10.3875 17.3569 10.595 17.3572C11.081 17.3578 11.5667 17.3548 12.0526 17.3695C12.2615 16.9023 12.4751 16.4372 12.6936 15.9744C12.8015 15.7446 12.9576 15.3273 13.1149 15.154C13.251 15.1518 13.3878 15.1464 13.5238 15.149L13.5672 15.2888C13.4423 15.7883 13.2439 16.2752 13.041 16.7476C12.9502 16.9587 12.8458 17.1663 12.7694 17.383L13.1032 17.3837C13.2333 16.8907 13.3954 16.4131 13.5615 15.9319C13.6265 15.7434 13.6766 15.5396 13.7705 15.363C13.8065 15.2948 13.846 15.2402 13.9135 15.2014C14.0063 15.1479 14.382 15.1254 14.4886 15.1532C14.5329 15.1645 14.5539 15.1855 14.5777 15.2231C14.6035 15.3946 14.0097 17.0774 13.914 17.3792L14.2088 17.3848C14.305 16.8524 14.5058 15.9366 14.7674 15.4745C14.8403 15.3458 14.9228 15.2418 15.0413 15.1528C15.2163 15.1489 15.3933 15.1424 15.5683 15.151C15.591 15.199 15.6159 15.2466 15.6329 15.2972C15.4366 16.0111 15.1488 16.687 14.8821 17.3757L15.0765 17.3718C15.2829 16.9914 15.4408 16.6034 15.5933 16.199C15.6828 15.9612 15.7995 15.5606 15.9361 15.3569C16.0077 15.2502 16.0816 15.1923 16.2051 15.157C16.3648 15.1116 16.5457 15.1105 16.7108 15.0975C16.6021 14.9159 16.4917 14.7332 16.4072 14.5384C16.162 13.9727 16.1293 13.3269 16.2767 12.7319C16.3625 12.3856 16.5126 12.0567 16.6814 11.7436C16.6151 11.7825 16.5495 11.8226 16.4791 11.8536C16.3999 12.0684 16.3135 12.2846 16.2517 12.5052C16.1824 12.3412 16.1192 12.1732 16.0465 12.0109C16.0071 12.3085 15.9855 12.6082 15.982 12.9084C15.8547 12.7648 15.7453 12.6061 15.6565 12.4357C15.6196 12.7877 15.5473 13.1033 15.4432 13.4411C15.3561 13.2401 15.2971 13.0381 15.2468 12.8254C15.1624 13.1581 15.1027 13.5267 14.9706 13.8426C14.928 13.7056 14.8884 13.5665 14.8384 13.4319C14.7437 13.8151 14.6488 14.1982 14.525 14.5729C14.3538 13.8304 14.3949 13.0172 14.8059 12.3553C15.1153 11.8569 15.661 11.4646 16.2286 11.3236C16.1737 11.3046 16.1098 11.2937 16.0805 11.2385C16.0777 11.2328 16.0753 11.2271 16.0727 11.2219C16.0212 11.2059 15.9613 11.2396 15.9164 11.2633C15.7232 11.365 15.5275 11.5074 15.3689 11.6576C15.3976 11.5044 15.4499 11.3547 15.474 11.2015C15.23 11.4058 15.0082 11.6045 14.7345 11.771C14.8066 11.6199 14.8711 11.4659 14.9413 11.3141C14.4058 11.6324 14.0649 11.8581 13.4527 12.0357C13.7347 11.4373 14.2053 10.9337 14.8366 10.7074C15.2609 10.5553 15.727 10.5531 16.1676 10.6271C16.3065 10.6505 16.4686 10.704 16.6084 10.6948C16.2746 10.501 15.8756 10.4038 15.5217 10.2487C15.7667 10.2188 16.0108 10.181 16.2564 10.1566C15.8524 10.0517 15.4045 9.94327 15.0329 9.74709C15.3101 9.72257 15.5769 9.71417 15.8551 9.73506C15.485 9.59792 15.1057 9.49802 14.7097 9.49314L14.6861 9.51618L14.6903 9.52594C14.6843 9.52919 14.6786 9.533 14.6733 9.5373C14.6133 9.59724 14.5575 9.71792 14.5108 9.79182C14.3987 9.46379 14.2659 9.06525 14.0717 8.77815C13.9533 9.12822 13.8455 9.48156 13.7483 9.83814C13.5312 9.52453 13.3075 9.19967 13.0333 8.93283C13.0936 9.30179 13.0705 9.68891 13.0877 10.0614C12.813 9.81118 12.4305 9.63941 12.0912 9.49484C12.2146 9.82679 12.3729 10.1489 12.5118 10.4749C12.1739 10.3835 11.6851 10.2409 11.3475 10.2038C11.5699 10.5071 11.7907 10.8027 12.059 11.0685C11.6593 11.1214 11.2186 11.2071 10.8199 11.2173C11.0872 11.4035 11.396 11.5418 11.6984 11.6605C11.3267 11.6732 10.9548 11.7011 10.583 11.7094C9.74163 11.7281 8.89644 11.7114 8.05476 11.7106L2.54751 11.7054C2.55362 11.4382 2.55667 11.1693 2.5823 10.9032C3.06357 10.916 3.54727 10.9068 4.02882 10.9042C4.35987 10.9025 4.69346 10.9109 5.02423 10.9002C4.84068 10.7186 4.62664 10.6001 4.36355 10.6017C4.20897 10.6026 4.07499 10.6437 3.93575 10.7082C3.86819 10.5265 3.75424 10.3633 3.57211 10.282C3.43264 10.2195 3.26794 10.2252 3.12858 10.2854C3.08141 10.3066 3.03624 10.3321 2.99364 10.3616C2.9108 10.2695 2.82537 10.1787 2.72551 10.1048C2.77224 9.88804 2.81818 9.66904 2.87889 9.45573L8.44714 9.45488C8.29041 9.25496 8.07988 9.12327 7.82521 9.09432C7.59623 9.06826 7.39877 9.12083 7.19893 9.23004C7.13533 9.0186 7.00135 8.83048 6.80485 8.72485C6.67704 8.65611 6.50498 8.617 6.36353 8.66144C6.21127 8.70895 6.11679 8.83809 6.04979 8.9758C6.04225 8.99146 6.03471 9.00717 6.02716 9.02291C6.00046 8.65548 5.92317 8.32847 5.63195 8.07621C5.45062 7.91909 5.21281 7.82958 4.97235 7.84768C4.8017 7.86051 4.63411 7.93357 4.52356 8.06741C4.40163 8.215 4.37769 8.3938 4.35885 8.57732C4.21706 8.30485 4.05898 8.12554 3.75944 8.03114C3.73048 8.02183 3.70113 8.01379 3.67141 8.00702C3.64168 8.00024 3.61179 7.99474 3.58173 7.9905C3.55157 7.98624 3.5213 7.98335 3.49086 7.98164C3.46042 7.97994 3.43009 7.97966 3.39965 7.98057C4.43625 5.79552 6.34746 3.96287 8.63447 3.14786C8.85185 3.06839 9.07161 2.9964 9.29374 2.93188C9.51587 2.86736 9.73993 2.81027 9.96591 2.76062C10.0279 2.7476 10.0899 2.73527 10.1521 2.72361C10.2142 2.71196 10.2764 2.70089 10.3388 2.69041C10.4012 2.67996 10.4637 2.67014 10.5263 2.66095C10.5889 2.65175 10.6515 2.64324 10.7143 2.6354C10.7771 2.62746 10.8399 2.62019 10.9028 2.61361C10.9657 2.60702 11.0287 2.60104 11.0917 2.59567C11.1548 2.59033 11.2178 2.58564 11.281 2.58159C11.3441 2.57754 11.4073 2.57412 11.4705 2.57132C11.5337 2.56855 11.5969 2.56642 11.6601 2.5649C11.7234 2.56339 11.7866 2.56256 11.8498 2.56241C11.9131 2.56218 11.9764 2.56261 12.0396 2.56371C12.1029 2.56481 12.1661 2.56653 12.2293 2.56888C12.2925 2.57126 12.3557 2.57427 12.4189 2.5779C12.482 2.58153 12.5451 2.58583 12.6082 2.59079C12.6713 2.59567 12.7343 2.60123 12.7972 2.60748C12.8602 2.61372 12.9231 2.62057 12.9859 2.62802C13.0487 2.63559 13.1114 2.64373 13.174 2.65243C13.2367 2.66114 13.2992 2.6706 13.3617 2.68081C13.4242 2.69088 13.4865 2.70155 13.5488 2.71283C13.611 2.72411 13.6731 2.73604 13.7351 2.74865C13.7972 2.76117 13.859 2.77442 13.9208 2.78838C13.9825 2.80234 14.0441 2.8168 14.1055 2.83175C14.167 2.84688 14.2283 2.86257 14.2894 2.8788C14.3505 2.89504 14.4114 2.91207 14.4723 2.92989C14.5331 2.94745 14.5937 2.96561 14.6541 2.98438C14.7145 3.00315 14.7747 3.02255 14.8348 3.04257C14.8948 3.06258 14.9546 3.08321 15.0142 3.10444C15.0739 3.12567 15.1333 3.1475 15.1924 3.16994C15.2515 3.19234 15.3105 3.21537 15.3692 3.23902C15.428 3.26267 15.4865 3.28689 15.5446 3.31168C15.6028 3.33654 15.6608 3.36195 15.7185 3.38791C15.7762 3.41387 15.8336 3.44046 15.8908 3.46766C16.3977 3.71021 16.8823 4.01344 17.3475 4.32814C17.0073 4.48015 16.8496 4.69142 16.7145 5.03433C16.5443 4.75148 16.3361 4.52028 16.0034 4.43951C15.7472 4.37735 15.4756 4.43877 15.2535 4.57574C15.239 4.58452 15.2248 4.59371 15.2107 4.60333C15.1967 4.61294 15.1829 4.62283 15.1694 4.63301C15.1558 4.64323 15.1425 4.65379 15.1295 4.66469C15.1165 4.67559 15.1038 4.68677 15.0914 4.69823C15.0789 4.70981 15.0667 4.72166 15.0549 4.73377C15.043 4.74588 15.0314 4.75831 15.0202 4.77106C15.0089 4.78378 14.9979 4.79678 14.9874 4.81006C14.9768 4.82334 14.9665 4.83685 14.9565 4.85059C14.9466 4.86436 14.937 4.87838 14.9277 4.89265C14.9184 4.90691 14.9095 4.92141 14.901 4.93613C14.8925 4.95085 14.8843 4.96576 14.8765 4.98086C14.8688 4.99596 14.8613 5.01125 14.8543 5.02672C14.8472 5.04222 14.8405 5.05783 14.8343 5.07367C14.8281 5.0895 14.8222 5.1054 14.8167 5.12152C14.8113 5.13764 14.8061 5.15387 14.8015 5.17022C14.7969 5.18657 14.7926 5.20303 14.7887 5.2196C14.7654 5.31786 14.7578 5.41476 14.7543 5.5154C14.3825 5.41964 13.9532 5.46539 13.6186 5.66156C13.5969 5.67462 13.5755 5.68832 13.5545 5.70266C13.5335 5.717 13.513 5.73195 13.4929 5.7475C13.4729 5.76313 13.4533 5.77931 13.4341 5.79603C13.415 5.81276 13.3964 5.83007 13.3783 5.84797C13.3603 5.86587 13.3428 5.88426 13.3258 5.90315C13.3088 5.92203 13.2924 5.94146 13.2766 5.96144C13.2608 5.98131 13.2456 6.00167 13.231 6.02252C13.2164 6.04337 13.2024 6.06462 13.1891 6.08626C13.7282 6.10102 14.2692 6.08939 14.8086 6.09109L19.2138 6.09257L19.22 6.10278C19.3257 6.27375 19.4619 6.43093 19.5764 6.59691C19.8973 7.06237 20.3302 7.76367 20.5121 8.2956C20.2657 8.10681 20.0178 7.92097 19.6887 7.96859C19.5343 7.99095 19.3959 8.06889 19.2587 8.13825C19.2309 7.89213 19.1158 7.65009 18.9213 7.49246C18.7799 7.3778 18.6029 7.32177 18.4214 7.34249C18.2686 7.35997 18.1517 7.43127 18.0355 7.52743C17.9767 7.33903 17.8687 7.1781 17.6896 7.08439C17.5156 6.99357 17.2967 6.9804 17.1105 7.04068C16.9154 7.1038 16.7577 7.25332 16.6698 7.43729C16.6184 7.54474 16.593 7.66048 16.5753 7.77786C16.3997 7.68273 16.1895 7.6447 15.9954 7.70754C15.8025 7.76997 15.7063 7.91858 15.6138 8.08688C15.2739 8.01582 14.8094 8.00645 14.5086 8.20949C14.4561 8.24491 14.4153 8.28896 14.3745 8.33687C15.1214 8.37473 15.8814 8.35106 16.63 8.3497L17.8876 8.34306C18.1713 8.34306 18.458 8.35248 18.7411 8.34096C18.5937 8.71883 18.4328 9.09738 18.3051 9.48229C18.5121 9.41185 18.6962 9.39414 18.914 9.38443C18.8865 9.08291 18.8621 8.63056 18.8004 8.34845L20.5374 8.34987C20.7209 8.80255 20.8782 9.28277 20.9875 9.75947C21.0407 9.99095 21.0729 10.2282 21.1303 10.4585C20.767 10.4708 20.3767 10.4591 20.0186 10.5234C20.3253 10.1758 20.6469 9.8 20.8842 9.4001C20.6013 9.56471 20.294 9.7123 19.9937 9.84285C19.7882 9.93214 19.5562 10.0064 19.3673 10.126C19.4559 9.94281 19.5184 9.75283 19.5783 9.55881C19.2849 9.69306 19.0676 9.79074 18.7477 9.85534C18.9027 9.8894 19.066 9.91977 19.2239 9.93606C18.906 10.0412 18.5807 10.0473 18.2522 10.0939C18.42 10.1469 18.554 10.1627 18.7286 10.1423C18.448 10.3054 18.1792 10.3709 17.862 10.4179C17.959 10.4338 18.0551 10.4497 18.1533 10.4565C17.9606 10.5681 17.7644 10.6677 17.5946 10.8137C18.3743 10.5384 19.1521 10.3827 19.9323 10.7563C20.049 10.8116 20.1633 10.8716 20.275 10.9362C20.3868 11.0009 20.4958 11.07 20.6019 11.1436C20.7973 11.0131 20.9733 10.8558 21.1693 10.7275C21.1846 10.9458 21.217 11.1637 21.2206 11.3826C21.0918 11.3508 20.9595 11.31 20.8278 11.2948L20.8132 11.3049C20.8313 11.3289 20.8459 11.348 20.858 11.376C20.7147 11.3991 20.3676 11.235 20.2292 11.1818C20.4877 11.3736 20.7339 11.5691 20.9704 11.7883C20.7271 11.7439 20.4813 11.6923 20.2462 11.614C20.0839 11.5268 19.9458 11.4024 19.7961 11.2962C19.7088 11.2341 19.6155 11.183 19.5215 11.1322C19.6542 11.2894 19.8209 11.4286 19.9713 11.5692L19.9667 11.5889C19.861 11.5811 19.748 11.5795 19.6442 11.5575C19.3911 11.5039 19.1998 11.2872 18.9713 11.1741C19.0784 11.3055 19.2062 11.4255 19.3301 11.541C19.2407 11.5462 19.1507 11.5537 19.0611 11.5543C19.6439 12.0018 20.1035 12.4041 20.2087 13.1771C20.2502 13.4829 20.2467 13.7897 20.2163 14.0962C20.0252 13.791 19.8421 13.4662 19.7297 13.1226C19.7147 13.2528 19.6796 13.3801 19.6485 13.5071C19.4968 13.2115 19.4296 12.99 19.3861 12.659C19.3319 12.8708 19.2352 13.0528 19.1562 13.2542C19.0431 12.9568 19.003 12.6298 18.9706 12.3152C18.886 12.4855 18.8044 12.6574 18.7259 12.8308C18.5776 12.5441 18.5284 12.2338 18.4091 11.9396C18.3987 12.1088 18.3953 12.2753 18.4119 12.4443C18.2219 12.1927 18.0212 11.9687 17.7973 11.7477C17.7985 11.7533 17.7997 11.759 17.8009 11.7647C17.8507 11.9868 18.0052 12.2151 18.1064 12.4208C18.2407 12.694 18.3682 12.9743 18.4757 13.2593C19.0132 14.6835 19.1623 16.2791 19.073 17.7908C19.0546 18.1021 19.0361 18.4242 18.9832 18.7316C19.3881 18.2869 19.7874 17.8358 20.1261 17.3368C20.1617 17.2832 20.1968 17.2293 20.2313 17.175C20.2659 17.1207 20.2999 17.0661 20.3332 17.0112C20.3666 16.9563 20.3996 16.901 20.432 16.8454C20.4644 16.7899 20.4963 16.7339 20.5276 16.6777C20.5589 16.6215 20.5896 16.565 20.6198 16.5082C20.65 16.4513 20.6796 16.3942 20.7088 16.3368C20.7378 16.2794 20.7663 16.2217 20.7943 16.1637C20.8222 16.1057 20.8496 16.0475 20.8764 15.989C20.9032 15.9305 20.9295 15.8719 20.9551 15.813C20.9808 15.7542 21.0058 15.6949 21.0303 15.6352C21.0548 15.5756 21.0787 15.5159 21.1021 15.4559C21.1254 15.3959 21.148 15.3357 21.1699 15.2753C21.1921 15.2147 21.2136 15.1541 21.2346 15.0933C21.2556 15.0325 21.2759 14.9714 21.2957 14.9101C21.3154 14.8488 21.3345 14.7873 21.3531 14.7257C21.3717 14.664 21.3896 14.6022 21.407 14.5402C21.4243 14.4782 21.441 14.4161 21.4571 14.3537C21.4733 14.2913 21.4888 14.2289 21.5037 14.1664C21.5187 14.1038 21.533 14.041 21.5465 13.9781C21.56 13.9151 21.573 13.8521 21.5856 13.7889C21.5981 13.7258 21.6099 13.6625 21.6211 13.599C21.6322 13.5356 21.6428 13.4721 21.6528 13.4085C21.6628 13.3449 21.6721 13.2812 21.6808 13.2174C21.6894 13.1536 21.6975 13.0897 21.705 13.0257C21.7125 12.9618 21.7193 12.8978 21.7255 12.8336C21.7316 12.7695 21.7371 12.7054 21.7421 12.6412C21.747 12.5769 21.7513 12.5126 21.755 12.4482C21.7587 12.3839 21.7617 12.3196 21.7642 12.2552C21.7665 12.1909 21.7683 12.1266 21.7695 12.0622C21.7706 11.9979 21.7712 11.9336 21.7711 11.8692C21.7709 11.8043 21.7701 11.7396 21.7687 11.6753Z"
  //                         fill="#C7D6BA"
  //                       />
  //                     </g>
  //                     <defs>
  //                       <linearGradient
  //                         id="paint0_linear_40000261_25329"
  //                         x1="15.245"
  //                         y1="19.5889"
  //                         x2="5.67595"
  //                         y2="8.37601"
  //                         gradientUnits="userSpaceOnUse"
  //                       >
  //                         <stop stopColor="#1DB2AA" />
  //                         <stop
  //                           offset="1"
  //                           stopColor="#1DB2AA"
  //                           stopOpacity="0"
  //                         />
  //                       </linearGradient>
  //                       <linearGradient
  //                         id="paint1_linear_40000261_25329"
  //                         x1="18.6243"
  //                         y1="11.1719"
  //                         x2="18.6243"
  //                         y2="11.4054"
  //                         gradientUnits="userSpaceOnUse"
  //                       >
  //                         <stop stopColor="#9EB34A" />
  //                         <stop offset="0.485" stopColor="#729550" />
  //                         <stop offset="1" stopColor="#334938" />
  //                       </linearGradient>
  //                       <clipPath id="clip0_40000261_25329">
  //                         <rect
  //                           x="2.01831"
  //                           y="2.01953"
  //                           width="19.7526"
  //                           height="19.7526"
  //                           rx="9.87629"
  //                           fill="white"
  //                         />
  //                       </clipPath>
  //                     </defs>
  //                   </svg>
  //                 </p>
  //                 <p className="-mt-1 text-left font-inter font-medium text-[12px] text-[#667877]">
  //                 {viewerData?.user_name}
  //                 </p>
  //               </div>
  //             </div>
  //           ))}
  //       </div>
  //     </div>
  //   ),
  // }));

  return (
    <div
      className="fixed inset-0 flex items-center justify-center bg-cover bg-center z-50"
      style={{
        backgroundImage: `url(${Background})`,
      }}
    >
      {/* Logo */}
      <div className="absolute top-5 left-5">
        <img
          src={logo}
          alt="Travso Logo"
          className="h-12 bg-white w-[248px] h-[80px] rounded-[16px] p-[16px]"
        />
      </div>

      {/* Close Button */}
      <div
        className="absolute top-5 right-5 cursor-pointer"
        onClick={closeStoryPopup}
      >
        <svg
          width="44"
          height="44"
          viewBox="0 0 44 44"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g filter="url(#filter0_b_40000261_31302)">
            <rect
              width="44"
              height="44"
              rx="22"
              fill="white"
              fillOpacity="0.75"
            />
            <path
              d="M15.5188 28.4817L28.4824 15.5181"
              stroke="#212626"
              strokeWidth="3"
              strokeLinecap="round"
            />
            <path
              d="M15.5188 15.5183L28.4824 28.4819"
              stroke="#212626"
              strokeWidth="3"
              strokeLinecap="round"
            />
          </g>
        </svg>
      </div>

      {/* Stories */}
      {/* <div className="relative w-[396px] h-[650px]">
      <div className="story-list">
        {storyData.map((story) => (
          <div key={story.id}>
            <span>{story.url}</span>
            <button onClick={() => deleteThisStory(story.id)}>Delete</button>
          </div>
        ))}
      </div>
        <Stories
          stories={storyData.map(story => ({ 
            url: story.url, 
            type: story.type 
          }))}
          defaultInterval={5000}
          width={396}
          height={650}
          className="StoriesCss"
        />
        
      </div> */}

      <div className="relative w-[396px] h-[650px]">
        {/* Active story */}
        <div className="relative">
          {/* Only show the delete button and viewers for the currently active story */}
          {storyData[activeStory] && (
            <>
              <div className="absolute top-5 left-0 right-0 flex items-center justify-between px-1 z-10">
                <div className="flex items-center gap-[8px]">
                  <div>
                    <img
                      src={
                        storyData[activeStory]?.profile_image || dummyUserImage
                      }
                      alt="profile"
                      className="w-[44px] h-[44px] object-cover rounded-full"
                    />
                  </div>
                  <div className="flex flex-col">
                    <p className="flex items-center gap-[5px] font-poppins font-semibold text-[16px] text-[#FFFFFF]">
                      {storyData[activeStory].full_name}
                      {/* badge icon section  */}
                      {storyData[activeStory]?.badge?.split("-")[0]?.trim() ==
                          "Solo Traveler" && (
                          <ShowBadgeIcon badge={storyData[activeStory]?.badge} />
                        )}

                        {storyData[activeStory]?.badge?.split("-")[0]?.trim() ==
                          "Luxury Traveler" && (
                          <ShowBadgeIcon badge={storyData[activeStory]?.badge} />
                        )}

                        {storyData[activeStory]?.badge?.split("-")[0]?.trim() ==
                          "Adventurer" && (
                          <ShowBadgeIcon badge={storyData[activeStory]?.badge} />
                        )}

                        {storyData[activeStory]?.badge?.split("-")[0]?.trim() ==
                          "Explorer" && (
                          <ShowBadgeIcon badge={storyData[activeStory]?.badge} />
                        )}

                        {storyData[activeStory]?.badge?.split("-")[0]?.trim() ==
                          "Foodie" && (
                          <ShowBadgeIcon badge={storyData[activeStory]?.badge} />
                        )}
                      {/* <svg
                        width="16"
                        height="16"
                        viewBox="0 0 16 16"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M8 0L14.2547 3.01208L15.7994 9.78017L11.4711 15.2078H4.52893L0.200577 9.78017L1.74535 3.01208L8 0Z"
                          fill="#9747FF"
                        />
                        <path
                          fillRule="evenodd"
                          clipRule="evenodd"
                          d="M11.6843 5.53415C11.8633 5.71314 11.8633 6.00334 11.6843 6.18233L7.40656 10.4601C7.22757 10.6391 6.93736 10.6391 6.75837 10.4601L4.31393 8.01566C4.13494 7.83667 4.13494 7.54647 4.31393 7.36748C4.49292 7.18849 4.78312 7.18849 4.96211 7.36748L7.08246 9.48783L11.0362 5.53415C11.2151 5.35515 11.5053 5.35515 11.6843 5.53415Z"
                          fill="white"
                        />
                      </svg> */}
                    </p>
                    <p className="-mt-1 text-left font-inter font-medium text-[14px] text-[#FFFFFF]">
                      {storyData[activeStory]?.badge?.split("-")[0]?.trim()}
                    </p>
                  </div>
                </div>
                <div className="flex items-center gap-[5px]">
                  <div>
                    <svg
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M19.7479 4.99993C21.1652 6.97016 22 9.38756 22 11.9999C22 14.6123 21.1652 17.0297 19.7479 18.9999M15.7453 7.99993C16.5362 9.13376 17 10.5127 17 11.9999C17 13.4872 16.5362 14.8661 15.7453 15.9999M9.63432 5.36561L6.46863 8.5313C6.29568 8.70425 6.2092 8.79073 6.10828 8.85257C6.01881 8.9074 5.92127 8.9478 5.81923 8.9723C5.70414 8.99993 5.58185 8.99993 5.33726 8.99993H3.6C3.03995 8.99993 2.75992 8.99993 2.54601 9.10892C2.35785 9.20479 2.20487 9.35777 2.10899 9.54594C2 9.75985 2 10.0399 2 10.5999V13.3999C2 13.96 2 14.24 2.10899 14.4539C2.20487 14.6421 2.35785 14.7951 2.54601 14.8909C2.75992 14.9999 3.03995 14.9999 3.6 14.9999H5.33726C5.58185 14.9999 5.70414 14.9999 5.81923 15.0276C5.92127 15.0521 6.01881 15.0925 6.10828 15.1473C6.2092 15.2091 6.29568 15.2956 6.46863 15.4686L9.63431 18.6342C10.0627 19.0626 10.2769 19.2768 10.4608 19.2913C10.6203 19.3038 10.7763 19.2392 10.8802 19.1175C11 18.9773 11 18.6744 11 18.0686V5.9313C11 5.32548 11 5.02257 10.8802 4.88231C10.7763 4.76061 10.6203 4.69602 10.4608 4.70858C10.2769 4.72305 10.0627 4.93724 9.63432 5.36561Z"
                        stroke="white"
                        strokeWidth="2"
                        strokeLinecap="round"
                        strokeLinejoin="round"
                      />
                    </svg>
                  </div>
                  <div>
                    <svg
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M5 5.12037C5 4.14921 5 3.66363 5.20249 3.39595C5.37889 3.16277 5.64852 3.01847 5.9404 3.00104C6.27544 2.98103 6.67946 3.25039 7.48752 3.78909L18.0031 10.7995C18.6708 11.2446 19.0046 11.4672 19.1209 11.7477C19.2227 11.9929 19.2227 12.2686 19.1209 12.5138C19.0046 12.7943 18.6708 13.0169 18.0031 13.462L7.48752 20.4724C6.67946 21.0111 6.27544 21.2805 5.9404 21.2604C5.64852 21.243 5.37889 21.0987 5.20249 20.8655C5 20.5979 5 20.1123 5 19.1411V5.12037Z"
                        stroke="white"
                        strokeWidth="2"
                        strokeLinecap="round"
                        strokeLinejoin="round"
                      />
                    </svg>
                  </div>
                  <div className="cursor-pointer">
                    <svg
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                      onClick={() => handleSetting(storyData[activeStory]?.id)}
                    >
                      <path
                        d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"
                        stroke="white"
                        strokeWidth="2"
                        strokeLinecap="round"
                        strokeLinejoin="round"
                      />
                      <path
                        d="M12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6Z"
                        stroke="white"
                        strokeWidth="2"
                        strokeLinecap="round"
                        strokeLinejoin="round"
                      />
                      <path
                        d="M12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20Z"
                        stroke="white"
                        strokeWidth="2"
                        strokeLinecap="round"
                        strokeLinejoin="round"
                      />
                    </svg>
                    {/* DropdownSetting Menu */}

                    {dropdownSetting && (
                      <div className="fixed top-[20%] left-[56%] transform -translate-x-1/2 -translate-y-1/2 bg-white border border-[#ddd] rounded-md rounded-[16px] shadow-md w-[200px] z-10">
                        <div className="flex items-center justify-between p-2 px-4 border-b border-b-gray-500 w-full">
                          <h6 className="font-poppins font-semibold text-[16px] text-[#212626] ">
                            More Options
                          </h6>

                          {/* Close Button (X) */}
                          <button
                            className="hover:text-[#2DC6BE] font-poppins font-semibold text-[16px] text-[#212626]"
                            onClick={() => setDropdownSetting(false)}
                            aria-label="Close"
                          >
                            &#x2715;
                          </button>
                        </div>
                        <ul>
                          <li
                            className="font-inter font-medium text-[16px] text-[#E30000] px-4 py-2 flex items-center gap-[5px] cursor-pointer hover:bg-[#f0f0f0]"
                            // onClick={() => {
                            //   deleteThisStory(storyData[activeStory].id);
                            //   setDropdownSetting(false);
                            // }}
                            //28-12-2024
                            onClick={() => {
                              if (window.confirm("Are you sure you want to delete this story?")) {
                                deleteThisStory(storyData[activeStory].id);
                                setDropdownSetting(false);
                              }
                            }}
                            //28-12-2024
                          >
                            <svg
                              width="24"
                              height="24"
                              viewBox="0 0 24 24"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M9 3H15M3 6H21M19 6L18.2987 16.5193C18.1935 18.0975 18.1409 18.8867 17.8 19.485C17.4999 20.0118 17.0472 20.4353 16.5017 20.6997C15.882 21 15.0911 21 13.5093 21H10.4907C8.90891 21 8.11803 21 7.49834 20.6997C6.95276 20.4353 6.50009 20.0118 6.19998 19.485C5.85911 18.8867 5.8065 18.0975 5.70129 16.5193L5 6M10 10.5V15.5M14 10.5V15.5"
                                stroke="#E30000"
                                strokeWidth="2"
                                strokeLinecap="round"
                                strokeLinejoin="round"
                              />
                            </svg>
                            Delete story
                          </li>
                        </ul>
                      </div>
                    )}
                  </div>
                </div>
              </div>

              {/* <img
                src={storyData[activeStory]?.profile_image || dummyUserImage}
                alt="profile"
                className="absolute top-20 w-[44px] h-[44px] object-cover rounded-full z-10"
              /> */}

              {/* <button
                className="absolute top-20 right-2 text-white bg-red-600 rounded-full p-1 z-10"
                onClick={(e) => {
                  e.stopPropagation(); // Prevent the story from advancing
                  deleteThisStory(storyData[activeStory].id);
                }}
              >
                Delete Story
              </button> */}

              {/* Viewers Info */}
              {/* {renderViewers(storyData[activeStory].viewers)} */}
              <div className="flex flex-col items-center justify-between absolute -bottom-[649px] z-10 w-[396px] px-4 py-[10px] bg-white shadow-lg rounded-t-[16px]">
                <div className="border-b-2 border-b-gray flex items-center justify-between w-full">
                  <h5 className="font-poppins font-semibold text-[20px] text-[#212626]">
                    Viewed({storyData[activeStory]?.viewers.length})
                  </h5>
                  <p
                    className="font-inter font-medium text-[14px] text-[#2DC6BE]"
                    onClick={() => handleShowViewStory()}
                  >
                    {storyData[activeStory]?.viewers?.length > 0
                      ? dropdownViewStory
                        ? "Hide"
                        : "See more"
                      : ""}
                  </p>
                </div>
                {storyData[activeStory]?.id && dropdownViewStory &&
                  storyData[activeStory].viewers.map(
                    (viewerData, viewerIndex) => (
                      <div
                        key={viewerIndex}
                        className="flex items-center gap-[8px] my-4 w-full"
                      >
                        <div>
                          <img
                            src={viewerData?.profile_image || dummyUserImage}
                            alt="profile"
                            className="w-[44px] h-[44px] rounded-full"
                          />
                        </div>
                        <div className="flex flex-col">
                          <p className="flex items-center gap-[5px] font-poppins font-semibold text-[16px] text-[#212626]">
                            {viewerData?.full_name}
                            <svg
                              width="18"
                              height="15"
                              viewBox="0 0 24 24"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M12 0C15.1826 0 18.2348 1.26428 20.4853 3.51472C22.7357 5.76515 24 8.8174 24 12C23.9988 15.1818 22.734 18.2329 20.4837 20.4824C18.2334 22.7318 15.1818 23.9955 12 23.9955H0V12C0 8.8174 1.26428 5.76515 3.51472 3.51472C5.76515 1.26428 8.8174 0 12 0Z"
                                fill="#2DC6BE"
                              />
                              <path
                                style={{ mixBlendMode: screen }}
                                opacity="0.9"
                                d="M2.10585e-07 24V12C-0.000295188 10.4233 0.310191 8.86201 0.913704 7.40538C1.51722 5.94876 2.40192 4.62537 3.51723 3.51089C4.63254 2.39641 5.95659 1.5127 7.41366 0.910276C8.87074 0.307852 10.4323 -0.00146834 12.009 5.24029e-06C13.8502 -0.0014912 15.6671 0.421379 17.3184 1.23578C18.9698 2.05019 20.4113 3.23422 21.5309 4.69595L2.10585e-07 24Z"
                                fill="url(#paint0_linear_40000261_25329)"
                              />
                              <path
                                d="M11.8946 21.7721C17.3491 21.7721 21.7709 17.3503 21.7709 11.8958C21.7709 6.44129 17.3491 2.01953 11.8946 2.01953C6.44007 2.01953 2.01831 6.44129 2.01831 11.8958C2.01831 17.3503 6.44007 21.7721 11.8946 21.7721Z"
                                fill="white"
                              />
                              <g clipPath="url(#clip0_40000261_25329)">
                                <rect
                                  x="2.01831"
                                  y="2.01953"
                                  width="19.7526"
                                  height="19.7526"
                                  rx="9.87629"
                                  fill="#231F20"
                                />
                                <path
                                  d="M18.7732 11.4054C18.6827 11.3252 18.5799 11.233 18.4753 11.1719C18.4802 11.2413 18.4867 11.2898 18.5428 11.3359C18.6034 11.3857 18.6974 11.3988 18.7732 11.4054Z"
                                  fill="url(#paint1_linear_40000261_25329)"
                                />
                                <path
                                  d="M15.2896 9.37906L15.3245 9.37401C15.2707 9.30152 14.8553 9.12732 14.7527 9.08594C14.781 9.20786 14.8006 9.31299 14.7905 9.43872C14.9567 9.41533 15.1215 9.38695 15.2896 9.37906Z"
                                  fill="#C7D6BA"
                                />
                                <path
                                  d="M19.6167 9.45233C19.6658 9.27739 19.8649 8.74739 19.8486 8.60156C19.7209 8.74801 19.2942 9.22074 19.2449 9.39137C19.2659 9.40107 19.2562 9.40011 19.2732 9.39897C19.3877 9.41651 19.5025 9.43275 19.6167 9.45233Z"
                                  fill="#C7D6BA"
                                />
                                <path
                                  d="M13.2432 18.1992C13.0985 18.2196 12.983 18.41 12.8981 18.5228C12.8337 18.6084 12.7701 18.6969 12.7156 18.7892C12.8721 18.7839 13.0287 18.7805 13.1852 18.779L13.7129 18.7748C13.6299 18.6675 13.3403 18.2183 13.2432 18.1992Z"
                                  fill="#C7D6BA"
                                />
                                <path
                                  d="M10.9698 4.0524C11.1177 4.13578 11.243 4.31669 11.3338 4.45689C11.4719 4.24886 11.5828 4.06659 11.8404 4.00597C12.0433 3.99325 12.1897 4.08413 12.3738 4.15202C12.3179 3.997 12.2523 3.86752 12.0946 3.79481C11.9598 3.73237 11.7824 3.73146 11.6442 3.78345C11.5059 3.83545 11.4183 3.93705 11.3395 4.057C11.2443 3.90703 11.1358 3.80048 10.9563 3.76092C10.8833 3.74485 10.8082 3.74451 10.7339 3.74957C10.5855 3.78323 10.4807 3.82903 10.3969 3.96436C10.3642 4.01709 10.3371 4.07368 10.3093 4.12897L10.3248 4.12528C10.5392 4.07221 10.748 3.92741 10.9698 4.0524Z"
                                  fill="#9EB34A"
                                />
                                <path
                                  d="M16.5906 9.2237C16.7448 9.51995 16.8901 9.82942 17.0175 10.1383L17.1542 10.4903C17.3865 10.066 17.7365 9.7285 18.1793 9.52767C18.0748 9.3651 17.605 8.51882 17.5263 8.46875C17.5494 8.92672 17.5477 9.38383 17.548 9.84242C17.3631 9.75012 17.149 9.6652 16.9808 9.54515C16.8433 9.44712 16.7277 9.32156 16.5906 9.2237Z"
                                  fill="#C7D6BA"
                                />
                                <path
                                  d="M13.7976 18.2041C13.9001 18.4131 14.0833 18.5973 14.221 18.7843C14.7322 18.7778 15.2433 18.7776 15.7543 18.7837C15.6219 18.5759 15.4665 18.392 15.3195 18.1953C14.8128 18.198 14.3048 18.2102 13.7976 18.2041Z"
                                  fill="#C7D6BA"
                                />
                                <path
                                  d="M12.1942 18.7747L12.2095 18.7544C12.3571 18.578 12.5124 18.3968 12.6461 18.2095C12.0725 18.1915 11.4946 18.2027 10.9205 18.2024C10.7993 18.4022 10.6424 18.5789 10.5281 18.7825C10.7177 18.7804 12.1397 18.7938 12.1942 18.7747Z"
                                  fill="#C7D6BA"
                                />
                                <path
                                  d="M8.11816 10.1634C7.99894 10.0926 7.88539 10.0795 7.7509 10.0884C7.61856 10.1244 7.51784 10.1741 7.44757 10.2998C7.38262 10.4158 7.37011 10.5491 7.36412 10.6794C7.25599 10.6208 7.13497 10.5772 7.01151 10.6143C6.92964 10.639 6.86967 10.6976 6.83153 10.7732C6.80188 10.8319 6.79306 10.8877 6.78983 10.9527C6.54512 10.8379 6.28627 10.7994 6.02697 10.8959C5.89712 10.9444 5.78266 11.0227 5.67261 11.1059L8.64435 11.0956C9.26163 11.0907 9.88344 11.111 10.4998 11.0924C10.3854 10.9793 10.2607 10.8639 10.0884 10.8667C10.0516 10.8673 10.0148 10.8746 9.9785 10.8811C9.89108 10.7985 9.79959 10.7388 9.67399 10.7442C9.56524 10.7489 9.47596 10.7977 9.38226 10.8479C9.36721 10.667 9.31154 10.5119 9.16777 10.3918C9.06185 10.3033 8.92498 10.257 8.78716 10.272C8.66653 10.2851 8.54058 10.3493 8.46765 10.4483C8.43981 10.4862 8.41741 10.5295 8.39466 10.5706C8.35228 10.3971 8.27664 10.2575 8.11816 10.1634Z"
                                  fill="#9EB34A"
                                />
                                <path
                                  d="M10.2 5.51379C9.95621 5.2952 9.6392 5.15051 9.30606 5.16339C9.1667 5.16878 9.06582 5.21669 8.95062 5.28776C8.91735 5.08404 8.80063 4.88588 8.63055 4.7665C8.51581 4.68596 8.37028 4.63078 8.22849 4.65633C8.10402 4.67903 8.02798 4.75345 7.94865 4.8445C7.88268 4.70259 7.79589 4.5852 7.6421 4.53043C7.5767 4.5071 7.51197 4.50068 7.443 4.5C7.24446 4.52594 7.07461 4.60155 6.95189 4.76747C6.88727 4.85483 6.85049 4.94956 6.81174 5.04998C6.6614 5.03125 6.51594 5.02915 6.38869 5.12638C6.31927 5.1794 6.28283 5.24297 6.24232 5.31818C5.96802 5.23962 5.73372 5.24638 5.47968 5.3863C5.41258 5.42237 5.35012 5.46654 5.2937 5.51782C5.65411 5.50261 6.01866 5.51782 6.37969 5.51725C7.01667 5.51623 7.65415 5.50857 8.29107 5.51453C8.92556 5.51935 9.56632 5.53967 10.2 5.51379Z"
                                  fill="#9EB34A"
                                />
                                <path
                                  d="M12.2367 8.04593L12.9414 8.8057C13.0103 8.74758 13.1495 8.65057 13.1595 8.55174C13.1693 8.45468 12.4618 7.14702 12.3625 6.98508C12.4926 6.85657 12.6293 6.7251 12.7306 6.5723C12.8655 6.36891 13.0358 5.85101 13.1217 5.60363C13.0368 5.59228 12.9496 5.57525 12.8642 5.57031C12.4844 5.89744 12.1344 6.26481 11.7836 6.6223C11.4007 6.56662 11.0174 6.53341 10.6324 6.49743C10.3713 6.47296 10.1045 6.43822 9.84242 6.43851C9.76728 6.51973 9.69435 6.60051 9.62651 6.68826C9.8758 6.79044 10.1351 6.86309 10.3921 6.94279L11.2947 7.23109C11.0256 7.54141 10.817 7.90754 10.5434 8.21434C10.2461 8.19232 9.95066 8.14958 9.6531 8.12965C9.61995 8.17313 9.58442 8.21605 9.55347 8.26106C9.68224 8.35415 9.80564 8.45598 9.9265 8.55918C10.1127 8.5967 10.3027 8.60686 10.4894 8.64029C10.5211 8.75632 10.552 8.87255 10.5821 8.98899C10.61 9.08265 10.6344 9.17971 10.6737 9.26917C10.7776 9.34739 10.8904 9.41227 10.9938 9.49055L11.069 9.38327C11.0113 9.07612 10.9171 8.77704 10.8657 8.46887C11.1959 8.22978 11.5224 7.8762 11.8212 7.5925C11.9657 7.7377 12.0978 7.89522 12.2367 8.04593Z"
                                  fill="#9EB34A"
                                />
                                <path
                                  d="M16.2637 17.3414C16.1455 17.373 15.9982 17.3478 15.8754 17.3561C15.8087 17.5532 15.7353 17.7512 15.657 17.944C15.8499 18.2318 16.0799 18.4963 16.2676 18.7867C16.8075 18.7511 17.4185 18.7662 17.9602 18.7878C18.3889 16.9353 18.4949 14.8302 17.9187 12.9971C17.8213 12.6871 17.7102 12.3565 17.5505 12.0727L17.2419 11.9297C17.3401 12.1649 17.423 12.4336 17.5451 12.6557C17.4105 12.5728 17.2911 12.4869 17.1773 12.3764L17.5304 13.3144C17.3278 13.1821 17.1555 13.0276 16.9821 12.8598C17.084 13.2262 17.2946 13.6472 17.4382 14.009C17.236 13.8608 17.0638 13.6988 16.8867 13.5214C17.0208 13.8741 17.1207 14.2392 17.2103 14.6056C17.0315 14.4368 16.8922 14.2724 16.7593 14.0639C16.8492 14.5124 16.8994 14.9725 17.0143 15.4149C16.9265 15.3341 16.8433 15.2526 16.7696 15.1585C16.7026 15.3317 16.6379 15.507 16.5588 15.6751C16.3596 16.0987 16.1264 16.5095 15.9826 16.9565C16.0788 16.9546 16.1728 16.9536 16.2686 16.9648C16.3329 16.9935 16.3738 17.0253 16.3972 17.0944C16.406 17.1203 16.4093 17.1478 16.4069 17.1751C16.4044 17.2024 16.3963 17.2289 16.3831 17.2528C16.3576 17.2978 16.3135 17.3282 16.2637 17.3414Z"
                                  fill="#C7D6BA"
                                />
                                <path
                                  d="M5.3855 19.3242C5.73856 19.6607 6.27086 20.0294 6.69249 20.2859C6.74383 20.3176 6.79543 20.349 6.84729 20.3798C6.89916 20.4107 6.95129 20.4411 7.00368 20.4709C7.05615 20.5008 7.10884 20.5302 7.16176 20.5592C7.21468 20.5881 7.26791 20.6165 7.32143 20.6443C7.37492 20.6722 7.42863 20.6997 7.48257 20.7267C7.53651 20.7537 7.59073 20.7802 7.64524 20.8062C7.69967 20.8322 7.75436 20.8577 7.80932 20.8827C7.86428 20.9076 7.91941 20.9321 7.9747 20.9562C8.03008 20.9801 8.08566 21.0036 8.14144 21.0265C8.19723 21.0495 8.25321 21.072 8.30937 21.0939C8.36557 21.1159 8.42197 21.1373 8.47854 21.1582C8.53512 21.1792 8.59189 21.1995 8.64885 21.2194C8.70585 21.2393 8.76297 21.2587 8.82023 21.2774C8.87749 21.2962 8.93496 21.3145 8.99263 21.3324C9.05023 21.3502 9.10801 21.3675 9.16599 21.3842C9.22396 21.4008 9.28205 21.417 9.34026 21.4327C9.39853 21.4485 9.457 21.4636 9.51565 21.4782C9.57431 21.4927 9.63294 21.5068 9.69156 21.5204C9.75036 21.5339 9.80925 21.5469 9.8682 21.5594C9.92716 21.5719 9.98628 21.5838 10.0456 21.5951C10.1048 21.6064 10.1641 21.6173 10.2235 21.6276C10.2829 21.6379 10.3424 21.6477 10.402 21.6568C10.4617 21.666 10.5213 21.6747 10.5811 21.6828C10.6408 21.691 10.7006 21.6985 10.7605 21.7055C10.8204 21.7126 10.8804 21.7191 10.9404 21.725C11.0004 21.7309 11.0605 21.7362 11.1206 21.7411C11.1807 21.7459 11.2408 21.7502 11.301 21.7539C11.3612 21.7577 11.4214 21.7609 11.4816 21.7635C11.542 21.7661 11.6023 21.7682 11.6627 21.7697C11.723 21.7713 11.7834 21.7723 11.8437 21.7727C11.9041 21.7731 11.9644 21.773 12.0248 21.7724C12.0851 21.7717 12.1455 21.7705 12.2059 21.7687C13.8371 21.728 15.617 21.2168 17.0111 20.3609C17.3892 20.1199 17.7551 19.8764 18.1068 19.5969C18.2162 19.51 18.3319 19.423 18.4309 19.3244L9.45913 19.3268C8.10082 19.326 6.74234 19.3413 5.3855 19.3242Z"
                                  fill="#334938"
                                />
                                <path
                                  d="M21.7687 11.6753C21.7673 11.611 21.7653 11.5466 21.7627 11.4823C21.7508 11.1613 21.7241 10.8415 21.6827 10.523C21.6412 10.2045 21.5852 9.88849 21.5145 9.57504C21.5004 9.51624 21.4858 9.45758 21.4706 9.39908C21.4554 9.34058 21.4396 9.28217 21.4234 9.22385C21.4071 9.16561 21.3902 9.10752 21.3728 9.04959C21.3555 8.99165 21.3376 8.93379 21.3192 8.87601C21.3007 8.81841 21.2817 8.76098 21.2622 8.70373C21.2427 8.64647 21.2226 8.58947 21.202 8.5327C21.1814 8.47594 21.1603 8.41927 21.1387 8.3627C21.117 8.30612 21.0948 8.24985 21.0719 8.19388C21.0493 8.13784 21.026 8.08202 21.0022 8.02643C20.9784 7.97084 20.9542 7.91544 20.9294 7.86023C20.9046 7.80509 20.8794 7.75022 20.8536 7.69561C20.8278 7.64101 20.8014 7.58657 20.7743 7.53231C20.7475 7.47808 20.7202 7.42415 20.6924 7.37053C20.6645 7.31691 20.6362 7.26351 20.6075 7.21035C20.5787 7.15714 20.5493 7.10427 20.5195 7.05175C20.4897 6.99923 20.4594 6.94697 20.4288 6.89497C20.398 6.84297 20.3667 6.79126 20.3349 6.73984C20.3031 6.68841 20.2709 6.63732 20.2382 6.58658C20.2055 6.53579 20.1723 6.48529 20.1386 6.43507C20.1049 6.38486 20.0708 6.33498 20.0362 6.28545C20.0016 6.23587 19.9665 6.18668 19.931 6.13786C19.8955 6.08905 19.8595 6.04048 19.8231 5.99215C19.7866 5.94394 19.7498 5.89609 19.7125 5.8486C19.6751 5.80111 19.6374 5.75394 19.5993 5.70709C19.5611 5.66024 19.5225 5.61381 19.4834 5.56779C19.4442 5.52177 19.4047 5.476 19.3647 5.43048C19.3248 5.38507 19.2844 5.34011 19.2436 5.29561C19.2029 5.25111 19.1616 5.20681 19.1199 5.16273C19.0784 5.11891 19.0364 5.0755 18.9939 5.03251C18.9514 4.98952 18.9086 4.94691 18.8655 4.90468C18.8223 4.86245 18.7789 4.82065 18.7352 4.77929C18.6914 4.73793 18.647 4.69697 18.602 4.6564C16.5719 2.79979 14.0723 1.9018 11.332 2.0319C11.2646 2.0353 11.1972 2.03943 11.1298 2.04427C11.0623 2.04911 10.995 2.05464 10.9278 2.06085C10.8605 2.06709 10.7933 2.07402 10.7262 2.08162C10.659 2.08923 10.592 2.09755 10.525 2.1066C10.4581 2.11564 10.3913 2.12535 10.3245 2.13572C10.2577 2.14609 10.191 2.15717 10.1246 2.16898C10.058 2.18075 9.99161 2.19322 9.92534 2.20639C9.85907 2.21956 9.79293 2.23341 9.72692 2.24794C9.66094 2.26247 9.59512 2.27761 9.52945 2.29335C9.46378 2.30909 9.39828 2.32567 9.33295 2.34307C9.26758 2.36033 9.20244 2.37827 9.13752 2.39688C9.07261 2.4155 9.00782 2.43478 8.94317 2.45473C8.8786 2.47463 8.81425 2.49524 8.75012 2.51654C8.686 2.53785 8.6221 2.55981 8.55843 2.58244C8.49472 2.60515 8.43128 2.62842 8.36809 2.65226C8.30491 2.6761 8.24196 2.7007 8.17923 2.72605C8.11647 2.75126 8.05402 2.77714 7.9919 2.80371C7.92977 2.83027 7.86789 2.85744 7.80626 2.88522C7.74462 2.91303 7.68331 2.94141 7.62232 2.97036C7.56132 2.99931 7.50061 3.02904 7.44019 3.05954C7.37983 3.08981 7.31973 3.12078 7.25987 3.15246C7.20001 3.18413 7.14058 3.2163 7.08158 3.24896C7.02244 3.28177 6.96367 3.3152 6.90528 3.34926C6.84689 3.38331 6.78884 3.41796 6.73113 3.45319C6.67342 3.4885 6.61608 3.52435 6.55913 3.56076C6.50217 3.59716 6.44559 3.63419 6.38939 3.67184C6.33322 3.70946 6.27741 3.74766 6.22197 3.78645C6.16652 3.82524 6.11152 3.86457 6.05698 3.90446C6.0024 3.94438 5.94822 3.98485 5.89443 4.02587C5.84064 4.0669 5.7873 4.10852 5.73442 4.15075C5.68161 4.19287 5.62914 4.23556 5.57701 4.27881C5.52488 4.32206 5.47319 4.36598 5.42193 4.41056C5.10478 4.69091 4.80439 4.98977 4.52231 5.3056C4.46867 5.36554 4.41577 5.42609 4.36361 5.48724C4.31144 5.5484 4.26005 5.61027 4.20943 5.67286C4.15881 5.73541 4.10894 5.79855 4.05983 5.86228C4.01071 5.926 3.96244 5.99033 3.91498 6.05527C3.86746 6.12021 3.82074 6.18573 3.77484 6.25184C3.72893 6.31795 3.68387 6.38474 3.63967 6.45222C3.59538 6.51942 3.552 6.58716 3.50953 6.65543C3.46706 6.7237 3.4253 6.79251 3.38426 6.86188C3.34338 6.93117 3.30332 7.00098 3.26409 7.07133C3.22486 7.14168 3.18652 7.21245 3.14906 7.28363C3.11161 7.35485 3.07504 7.42656 3.03935 7.49876C3.00367 7.57096 2.96886 7.64354 2.93491 7.7165C2.90096 7.7895 2.86792 7.86293 2.83578 7.9368C2.80364 8.01067 2.77243 8.08488 2.74214 8.15943C2.71197 8.23401 2.68258 8.30898 2.65399 8.38432C2.6254 8.45967 2.59786 8.53535 2.57138 8.61138C2.54479 8.68736 2.51912 8.76369 2.49438 8.84036C2.46963 8.91703 2.44591 8.99396 2.4232 9.07116C2.40034 9.14836 2.37843 9.22593 2.35745 9.30389C2.33648 9.38184 2.31651 9.45985 2.29754 9.53792C2.27845 9.61618 2.26036 9.69466 2.24328 9.77338C2.22619 9.85209 2.21005 9.93099 2.19485 10.0101C2.17976 10.0892 2.16555 10.1685 2.15224 10.2479C2.13892 10.3273 2.12669 10.407 2.11552 10.4868C2.1042 10.5665 2.09391 10.6464 2.08463 10.7264C2.07535 10.8065 2.06701 10.8866 2.05962 10.9668C2.05226 11.047 2.04591 11.1273 2.04055 11.2077C2.0352 11.2881 2.0308 11.3685 2.02737 11.449C2.02397 11.5295 2.02156 11.61 2.02012 11.6905C2.01869 11.771 2.01824 11.8516 2.01877 11.9322C2.01933 12.0128 2.02086 12.0933 2.02335 12.1738C2.02584 12.2543 2.02935 12.3347 2.03387 12.4152C2.03742 12.4799 2.04159 12.5446 2.04638 12.6092C2.05117 12.6738 2.0566 12.7384 2.06267 12.8029C2.06871 12.8674 2.0754 12.9319 2.08276 12.9963C2.09012 13.0606 2.09806 13.125 2.10658 13.1893C2.11518 13.2536 2.1244 13.3177 2.13425 13.3817C2.14409 13.4457 2.15456 13.5096 2.16565 13.5735C2.17674 13.6374 2.18845 13.7011 2.20078 13.7647C2.21312 13.8283 2.22608 13.8917 2.23966 13.9551C2.25324 14.0185 2.26744 14.0817 2.28226 14.1448C2.29708 14.2078 2.31251 14.2708 2.32854 14.3335C2.34461 14.3963 2.36126 14.4589 2.3785 14.5213C2.39574 14.5838 2.41364 14.646 2.4322 14.7081C2.45068 14.7702 2.46979 14.8321 2.48951 14.8938C2.50924 14.9555 2.52953 15.017 2.55039 15.0784C2.57129 15.1397 2.59279 15.2008 2.61489 15.2617C2.637 15.3225 2.65963 15.3832 2.68279 15.4437C2.70602 15.5042 2.7299 15.5644 2.75442 15.6243C2.77894 15.6842 2.804 15.7439 2.82961 15.8034C2.85526 15.8629 2.88148 15.9222 2.90826 15.9811C2.93504 16.0401 2.96241 16.0987 2.99036 16.1571C3.01831 16.2155 3.04682 16.2736 3.0759 16.3315C3.10499 16.3894 3.13463 16.447 3.16485 16.5042C3.19502 16.5615 3.2258 16.6185 3.25719 16.6752C3.28857 16.7318 3.32044 16.7882 3.35281 16.8442C3.38521 16.9002 3.41819 16.9559 3.45176 17.0114C3.48534 17.0668 3.5194 17.1219 3.55395 17.1765C3.58854 17.2312 3.62367 17.2856 3.65936 17.3396C3.69504 17.3937 3.73123 17.4473 3.76793 17.5007C3.80463 17.554 3.84186 17.607 3.87962 17.6596C3.91738 17.7122 3.95565 17.7644 3.99442 17.8162C4.0332 17.8681 4.07246 17.9195 4.11222 17.9705C4.15198 18.0216 4.19226 18.0722 4.23307 18.1225C4.41413 18.3439 4.60808 18.5741 4.81319 18.7736L7.28957 18.7753C7.11417 18.4858 6.82471 18.1892 6.52608 18.0288C7.03406 18.1008 7.27294 18.2117 7.69417 18.5097C7.48483 17.4308 7.19299 16.3652 7.00797 15.2818C6.65367 15.3726 6.29846 15.4898 6.01076 15.7249C5.35245 15.545 4.71242 15.5878 4.11318 15.9319C3.96274 16.0183 3.83351 16.1184 3.70745 16.237C4.12648 15.0987 4.90275 14.1817 6.01025 13.6705C6.11458 13.6224 6.221 13.5795 6.32952 13.5418C6.43804 13.5042 6.54817 13.472 6.65989 13.4453C6.64252 13.3435 6.57966 13.1785 6.63788 13.0873C6.66233 13.049 6.70408 13.0155 6.75014 13.0096C6.77645 13.0063 6.79365 13.0153 6.81656 13.0259C6.8994 13.1099 6.90268 13.2847 6.92763 13.3979C7.90997 13.2364 8.9249 13.5277 9.72488 14.1057C10.0561 14.345 10.322 14.6237 10.5819 14.9359C9.84268 14.7387 9.13096 14.7731 8.45743 15.1654C8.37946 15.2106 8.30453 15.2609 8.23315 15.316C8.19543 15.3041 8.15758 15.2932 8.1196 15.2834C8.08161 15.2736 8.04321 15.2649 8.0044 15.2571C7.96581 15.2495 7.927 15.2429 7.88796 15.2371C7.84892 15.2314 7.80982 15.2268 7.77067 15.2236C7.7314 15.2201 7.6921 15.2177 7.65276 15.2163C7.61341 15.215 7.57403 15.2148 7.53462 15.2156C7.49524 15.2165 7.45592 15.2184 7.41665 15.2213C7.37738 15.2242 7.33821 15.2282 7.29913 15.2334C7.3414 15.4618 7.39832 15.6872 7.4489 15.9139L7.83873 17.6338C7.8866 17.8443 7.94318 18.0531 7.98663 18.2645C8.18993 17.817 8.34433 17.5781 8.68149 17.22C8.63883 17.4694 8.59662 17.7183 8.53738 17.9645C8.48912 18.1656 8.42733 18.3633 8.37505 18.5633C8.80749 18.2462 9.06363 18.1736 9.58892 18.1074C9.28757 18.2432 8.986 18.469 8.84404 18.7772C9.23335 18.7732 9.62269 18.773 10.0121 18.7768C10.2185 18.4354 10.4889 18.1121 10.7133 17.777C10.5153 17.7751 10.0933 17.803 9.92874 17.771C9.87634 17.7609 9.82418 17.7408 9.78587 17.7021C9.74757 17.6634 9.73212 17.612 9.73342 17.5578C9.73467 17.5052 9.74932 17.4573 9.78898 17.4211C9.83498 17.3791 9.90027 17.3607 9.96076 17.354C10.1656 17.3313 10.3875 17.3569 10.595 17.3572C11.081 17.3578 11.5667 17.3548 12.0526 17.3695C12.2615 16.9023 12.4751 16.4372 12.6936 15.9744C12.8015 15.7446 12.9576 15.3273 13.1149 15.154C13.251 15.1518 13.3878 15.1464 13.5238 15.149L13.5672 15.2888C13.4423 15.7883 13.2439 16.2752 13.041 16.7476C12.9502 16.9587 12.8458 17.1663 12.7694 17.383L13.1032 17.3837C13.2333 16.8907 13.3954 16.4131 13.5615 15.9319C13.6265 15.7434 13.6766 15.5396 13.7705 15.363C13.8065 15.2948 13.846 15.2402 13.9135 15.2014C14.0063 15.1479 14.382 15.1254 14.4886 15.1532C14.5329 15.1645 14.5539 15.1855 14.5777 15.2231C14.6035 15.3946 14.0097 17.0774 13.914 17.3792L14.2088 17.3848C14.305 16.8524 14.5058 15.9366 14.7674 15.4745C14.8403 15.3458 14.9228 15.2418 15.0413 15.1528C15.2163 15.1489 15.3933 15.1424 15.5683 15.151C15.591 15.199 15.6159 15.2466 15.6329 15.2972C15.4366 16.0111 15.1488 16.687 14.8821 17.3757L15.0765 17.3718C15.2829 16.9914 15.4408 16.6034 15.5933 16.199C15.6828 15.9612 15.7995 15.5606 15.9361 15.3569C16.0077 15.2502 16.0816 15.1923 16.2051 15.157C16.3648 15.1116 16.5457 15.1105 16.7108 15.0975C16.6021 14.9159 16.4917 14.7332 16.4072 14.5384C16.162 13.9727 16.1293 13.3269 16.2767 12.7319C16.3625 12.3856 16.5126 12.0567 16.6814 11.7436C16.6151 11.7825 16.5495 11.8226 16.4791 11.8536C16.3999 12.0684 16.3135 12.2846 16.2517 12.5052C16.1824 12.3412 16.1192 12.1732 16.0465 12.0109C16.0071 12.3085 15.9855 12.6082 15.982 12.9084C15.8547 12.7648 15.7453 12.6061 15.6565 12.4357C15.6196 12.7877 15.5473 13.1033 15.4432 13.4411C15.3561 13.2401 15.2971 13.0381 15.2468 12.8254C15.1624 13.1581 15.1027 13.5267 14.9706 13.8426C14.928 13.7056 14.8884 13.5665 14.8384 13.4319C14.7437 13.8151 14.6488 14.1982 14.525 14.5729C14.3538 13.8304 14.3949 13.0172 14.8059 12.3553C15.1153 11.8569 15.661 11.4646 16.2286 11.3236C16.1737 11.3046 16.1098 11.2937 16.0805 11.2385C16.0777 11.2328 16.0753 11.2271 16.0727 11.2219C16.0212 11.2059 15.9613 11.2396 15.9164 11.2633C15.7232 11.365 15.5275 11.5074 15.3689 11.6576C15.3976 11.5044 15.4499 11.3547 15.474 11.2015C15.23 11.4058 15.0082 11.6045 14.7345 11.771C14.8066 11.6199 14.8711 11.4659 14.9413 11.3141C14.4058 11.6324 14.0649 11.8581 13.4527 12.0357C13.7347 11.4373 14.2053 10.9337 14.8366 10.7074C15.2609 10.5553 15.727 10.5531 16.1676 10.6271C16.3065 10.6505 16.4686 10.704 16.6084 10.6948C16.2746 10.501 15.8756 10.4038 15.5217 10.2487C15.7667 10.2188 16.0108 10.181 16.2564 10.1566C15.8524 10.0517 15.4045 9.94327 15.0329 9.74709C15.3101 9.72257 15.5769 9.71417 15.8551 9.73506C15.485 9.59792 15.1057 9.49802 14.7097 9.49314L14.6861 9.51618L14.6903 9.52594C14.6843 9.52919 14.6786 9.533 14.6733 9.5373C14.6133 9.59724 14.5575 9.71792 14.5108 9.79182C14.3987 9.46379 14.2659 9.06525 14.0717 8.77815C13.9533 9.12822 13.8455 9.48156 13.7483 9.83814C13.5312 9.52453 13.3075 9.19967 13.0333 8.93283C13.0936 9.30179 13.0705 9.68891 13.0877 10.0614C12.813 9.81118 12.4305 9.63941 12.0912 9.49484C12.2146 9.82679 12.3729 10.1489 12.5118 10.4749C12.1739 10.3835 11.6851 10.2409 11.3475 10.2038C11.5699 10.5071 11.7907 10.8027 12.059 11.0685C11.6593 11.1214 11.2186 11.2071 10.8199 11.2173C11.0872 11.4035 11.396 11.5418 11.6984 11.6605C11.3267 11.6732 10.9548 11.7011 10.583 11.7094C9.74163 11.7281 8.89644 11.7114 8.05476 11.7106L2.54751 11.7054C2.55362 11.4382 2.55667 11.1693 2.5823 10.9032C3.06357 10.916 3.54727 10.9068 4.02882 10.9042C4.35987 10.9025 4.69346 10.9109 5.02423 10.9002C4.84068 10.7186 4.62664 10.6001 4.36355 10.6017C4.20897 10.6026 4.07499 10.6437 3.93575 10.7082C3.86819 10.5265 3.75424 10.3633 3.57211 10.282C3.43264 10.2195 3.26794 10.2252 3.12858 10.2854C3.08141 10.3066 3.03624 10.3321 2.99364 10.3616C2.9108 10.2695 2.82537 10.1787 2.72551 10.1048C2.77224 9.88804 2.81818 9.66904 2.87889 9.45573L8.44714 9.45488C8.29041 9.25496 8.07988 9.12327 7.82521 9.09432C7.59623 9.06826 7.39877 9.12083 7.19893 9.23004C7.13533 9.0186 7.00135 8.83048 6.80485 8.72485C6.67704 8.65611 6.50498 8.617 6.36353 8.66144C6.21127 8.70895 6.11679 8.83809 6.04979 8.9758C6.04225 8.99146 6.03471 9.00717 6.02716 9.02291C6.00046 8.65548 5.92317 8.32847 5.63195 8.07621C5.45062 7.91909 5.21281 7.82958 4.97235 7.84768C4.8017 7.86051 4.63411 7.93357 4.52356 8.06741C4.40163 8.215 4.37769 8.3938 4.35885 8.57732C4.21706 8.30485 4.05898 8.12554 3.75944 8.03114C3.73048 8.02183 3.70113 8.01379 3.67141 8.00702C3.64168 8.00024 3.61179 7.99474 3.58173 7.9905C3.55157 7.98624 3.5213 7.98335 3.49086 7.98164C3.46042 7.97994 3.43009 7.97966 3.39965 7.98057C4.43625 5.79552 6.34746 3.96287 8.63447 3.14786C8.85185 3.06839 9.07161 2.9964 9.29374 2.93188C9.51587 2.86736 9.73993 2.81027 9.96591 2.76062C10.0279 2.7476 10.0899 2.73527 10.1521 2.72361C10.2142 2.71196 10.2764 2.70089 10.3388 2.69041C10.4012 2.67996 10.4637 2.67014 10.5263 2.66095C10.5889 2.65175 10.6515 2.64324 10.7143 2.6354C10.7771 2.62746 10.8399 2.62019 10.9028 2.61361C10.9657 2.60702 11.0287 2.60104 11.0917 2.59567C11.1548 2.59033 11.2178 2.58564 11.281 2.58159C11.3441 2.57754 11.4073 2.57412 11.4705 2.57132C11.5337 2.56855 11.5969 2.56642 11.6601 2.5649C11.7234 2.56339 11.7866 2.56256 11.8498 2.56241C11.9131 2.56218 11.9764 2.56261 12.0396 2.56371C12.1029 2.56481 12.1661 2.56653 12.2293 2.56888C12.2925 2.57126 12.3557 2.57427 12.4189 2.5779C12.482 2.58153 12.5451 2.58583 12.6082 2.59079C12.6713 2.59567 12.7343 2.60123 12.7972 2.60748C12.8602 2.61372 12.9231 2.62057 12.9859 2.62802C13.0487 2.63559 13.1114 2.64373 13.174 2.65243C13.2367 2.66114 13.2992 2.6706 13.3617 2.68081C13.4242 2.69088 13.4865 2.70155 13.5488 2.71283C13.611 2.72411 13.6731 2.73604 13.7351 2.74865C13.7972 2.76117 13.859 2.77442 13.9208 2.78838C13.9825 2.80234 14.0441 2.8168 14.1055 2.83175C14.167 2.84688 14.2283 2.86257 14.2894 2.8788C14.3505 2.89504 14.4114 2.91207 14.4723 2.92989C14.5331 2.94745 14.5937 2.96561 14.6541 2.98438C14.7145 3.00315 14.7747 3.02255 14.8348 3.04257C14.8948 3.06258 14.9546 3.08321 15.0142 3.10444C15.0739 3.12567 15.1333 3.1475 15.1924 3.16994C15.2515 3.19234 15.3105 3.21537 15.3692 3.23902C15.428 3.26267 15.4865 3.28689 15.5446 3.31168C15.6028 3.33654 15.6608 3.36195 15.7185 3.38791C15.7762 3.41387 15.8336 3.44046 15.8908 3.46766C16.3977 3.71021 16.8823 4.01344 17.3475 4.32814C17.0073 4.48015 16.8496 4.69142 16.7145 5.03433C16.5443 4.75148 16.3361 4.52028 16.0034 4.43951C15.7472 4.37735 15.4756 4.43877 15.2535 4.57574C15.239 4.58452 15.2248 4.59371 15.2107 4.60333C15.1967 4.61294 15.1829 4.62283 15.1694 4.63301C15.1558 4.64323 15.1425 4.65379 15.1295 4.66469C15.1165 4.67559 15.1038 4.68677 15.0914 4.69823C15.0789 4.70981 15.0667 4.72166 15.0549 4.73377C15.043 4.74588 15.0314 4.75831 15.0202 4.77106C15.0089 4.78378 14.9979 4.79678 14.9874 4.81006C14.9768 4.82334 14.9665 4.83685 14.9565 4.85059C14.9466 4.86436 14.937 4.87838 14.9277 4.89265C14.9184 4.90691 14.9095 4.92141 14.901 4.93613C14.8925 4.95085 14.8843 4.96576 14.8765 4.98086C14.8688 4.99596 14.8613 5.01125 14.8543 5.02672C14.8472 5.04222 14.8405 5.05783 14.8343 5.07367C14.8281 5.0895 14.8222 5.1054 14.8167 5.12152C14.8113 5.13764 14.8061 5.15387 14.8015 5.17022C14.7969 5.18657 14.7926 5.20303 14.7887 5.2196C14.7654 5.31786 14.7578 5.41476 14.7543 5.5154C14.3825 5.41964 13.9532 5.46539 13.6186 5.66156C13.5969 5.67462 13.5755 5.68832 13.5545 5.70266C13.5335 5.717 13.513 5.73195 13.4929 5.7475C13.4729 5.76313 13.4533 5.77931 13.4341 5.79603C13.415 5.81276 13.3964 5.83007 13.3783 5.84797C13.3603 5.86587 13.3428 5.88426 13.3258 5.90315C13.3088 5.92203 13.2924 5.94146 13.2766 5.96144C13.2608 5.98131 13.2456 6.00167 13.231 6.02252C13.2164 6.04337 13.2024 6.06462 13.1891 6.08626C13.7282 6.10102 14.2692 6.08939 14.8086 6.09109L19.2138 6.09257L19.22 6.10278C19.3257 6.27375 19.4619 6.43093 19.5764 6.59691C19.8973 7.06237 20.3302 7.76367 20.5121 8.2956C20.2657 8.10681 20.0178 7.92097 19.6887 7.96859C19.5343 7.99095 19.3959 8.06889 19.2587 8.13825C19.2309 7.89213 19.1158 7.65009 18.9213 7.49246C18.7799 7.3778 18.6029 7.32177 18.4214 7.34249C18.2686 7.35997 18.1517 7.43127 18.0355 7.52743C17.9767 7.33903 17.8687 7.1781 17.6896 7.08439C17.5156 6.99357 17.2967 6.9804 17.1105 7.04068C16.9154 7.1038 16.7577 7.25332 16.6698 7.43729C16.6184 7.54474 16.593 7.66048 16.5753 7.77786C16.3997 7.68273 16.1895 7.6447 15.9954 7.70754C15.8025 7.76997 15.7063 7.91858 15.6138 8.08688C15.2739 8.01582 14.8094 8.00645 14.5086 8.20949C14.4561 8.24491 14.4153 8.28896 14.3745 8.33687C15.1214 8.37473 15.8814 8.35106 16.63 8.3497L17.8876 8.34306C18.1713 8.34306 18.458 8.35248 18.7411 8.34096C18.5937 8.71883 18.4328 9.09738 18.3051 9.48229C18.5121 9.41185 18.6962 9.39414 18.914 9.38443C18.8865 9.08291 18.8621 8.63056 18.8004 8.34845L20.5374 8.34987C20.7209 8.80255 20.8782 9.28277 20.9875 9.75947C21.0407 9.99095 21.0729 10.2282 21.1303 10.4585C20.767 10.4708 20.3767 10.4591 20.0186 10.5234C20.3253 10.1758 20.6469 9.8 20.8842 9.4001C20.6013 9.56471 20.294 9.7123 19.9937 9.84285C19.7882 9.93214 19.5562 10.0064 19.3673 10.126C19.4559 9.94281 19.5184 9.75283 19.5783 9.55881C19.2849 9.69306 19.0676 9.79074 18.7477 9.85534C18.9027 9.8894 19.066 9.91977 19.2239 9.93606C18.906 10.0412 18.5807 10.0473 18.2522 10.0939C18.42 10.1469 18.554 10.1627 18.7286 10.1423C18.448 10.3054 18.1792 10.3709 17.862 10.4179C17.959 10.4338 18.0551 10.4497 18.1533 10.4565C17.9606 10.5681 17.7644 10.6677 17.5946 10.8137C18.3743 10.5384 19.1521 10.3827 19.9323 10.7563C20.049 10.8116 20.1633 10.8716 20.275 10.9362C20.3868 11.0009 20.4958 11.07 20.6019 11.1436C20.7973 11.0131 20.9733 10.8558 21.1693 10.7275C21.1846 10.9458 21.217 11.1637 21.2206 11.3826C21.0918 11.3508 20.9595 11.31 20.8278 11.2948L20.8132 11.3049C20.8313 11.3289 20.8459 11.348 20.858 11.376C20.7147 11.3991 20.3676 11.235 20.2292 11.1818C20.4877 11.3736 20.7339 11.5691 20.9704 11.7883C20.7271 11.7439 20.4813 11.6923 20.2462 11.614C20.0839 11.5268 19.9458 11.4024 19.7961 11.2962C19.7088 11.2341 19.6155 11.183 19.5215 11.1322C19.6542 11.2894 19.8209 11.4286 19.9713 11.5692L19.9667 11.5889C19.861 11.5811 19.748 11.5795 19.6442 11.5575C19.3911 11.5039 19.1998 11.2872 18.9713 11.1741C19.0784 11.3055 19.2062 11.4255 19.3301 11.541C19.2407 11.5462 19.1507 11.5537 19.0611 11.5543C19.6439 12.0018 20.1035 12.4041 20.2087 13.1771C20.2502 13.4829 20.2467 13.7897 20.2163 14.0962C20.0252 13.791 19.8421 13.4662 19.7297 13.1226C19.7147 13.2528 19.6796 13.3801 19.6485 13.5071C19.4968 13.2115 19.4296 12.99 19.3861 12.659C19.3319 12.8708 19.2352 13.0528 19.1562 13.2542C19.0431 12.9568 19.003 12.6298 18.9706 12.3152C18.886 12.4855 18.8044 12.6574 18.7259 12.8308C18.5776 12.5441 18.5284 12.2338 18.4091 11.9396C18.3987 12.1088 18.3953 12.2753 18.4119 12.4443C18.2219 12.1927 18.0212 11.9687 17.7973 11.7477C17.7985 11.7533 17.7997 11.759 17.8009 11.7647C17.8507 11.9868 18.0052 12.2151 18.1064 12.4208C18.2407 12.694 18.3682 12.9743 18.4757 13.2593C19.0132 14.6835 19.1623 16.2791 19.073 17.7908C19.0546 18.1021 19.0361 18.4242 18.9832 18.7316C19.3881 18.2869 19.7874 17.8358 20.1261 17.3368C20.1617 17.2832 20.1968 17.2293 20.2313 17.175C20.2659 17.1207 20.2999 17.0661 20.3332 17.0112C20.3666 16.9563 20.3996 16.901 20.432 16.8454C20.4644 16.7899 20.4963 16.7339 20.5276 16.6777C20.5589 16.6215 20.5896 16.565 20.6198 16.5082C20.65 16.4513 20.6796 16.3942 20.7088 16.3368C20.7378 16.2794 20.7663 16.2217 20.7943 16.1637C20.8222 16.1057 20.8496 16.0475 20.8764 15.989C20.9032 15.9305 20.9295 15.8719 20.9551 15.813C20.9808 15.7542 21.0058 15.6949 21.0303 15.6352C21.0548 15.5756 21.0787 15.5159 21.1021 15.4559C21.1254 15.3959 21.148 15.3357 21.1699 15.2753C21.1921 15.2147 21.2136 15.1541 21.2346 15.0933C21.2556 15.0325 21.2759 14.9714 21.2957 14.9101C21.3154 14.8488 21.3345 14.7873 21.3531 14.7257C21.3717 14.664 21.3896 14.6022 21.407 14.5402C21.4243 14.4782 21.441 14.4161 21.4571 14.3537C21.4733 14.2913 21.4888 14.2289 21.5037 14.1664C21.5187 14.1038 21.533 14.041 21.5465 13.9781C21.56 13.9151 21.573 13.8521 21.5856 13.7889C21.5981 13.7258 21.6099 13.6625 21.6211 13.599C21.6322 13.5356 21.6428 13.4721 21.6528 13.4085C21.6628 13.3449 21.6721 13.2812 21.6808 13.2174C21.6894 13.1536 21.6975 13.0897 21.705 13.0257C21.7125 12.9618 21.7193 12.8978 21.7255 12.8336C21.7316 12.7695 21.7371 12.7054 21.7421 12.6412C21.747 12.5769 21.7513 12.5126 21.755 12.4482C21.7587 12.3839 21.7617 12.3196 21.7642 12.2552C21.7665 12.1909 21.7683 12.1266 21.7695 12.0622C21.7706 11.9979 21.7712 11.9336 21.7711 11.8692C21.7709 11.8043 21.7701 11.7396 21.7687 11.6753Z"
                                  fill="#C7D6BA"
                                />
                              </g>
                              <defs>
                                <linearGradient
                                  id="paint0_linear_40000261_25329"
                                  x1="15.245"
                                  y1="19.5889"
                                  x2="5.67595"
                                  y2="8.37601"
                                  gradientUnits="userSpaceOnUse"
                                >
                                  <stop stopColor="#1DB2AA" />
                                  <stop
                                    offset="1"
                                    stopColor="#1DB2AA"
                                    stopOpacity="0"
                                  />
                                </linearGradient>
                                <linearGradient
                                  id="paint1_linear_40000261_25329"
                                  x1="18.6243"
                                  y1="11.1719"
                                  x2="18.6243"
                                  y2="11.4054"
                                  gradientUnits="userSpaceOnUse"
                                >
                                  <stop stopColor="#9EB34A" />
                                  <stop offset="0.485" stopColor="#729550" />
                                  <stop offset="1" stopColor="#334938" />
                                </linearGradient>
                                <clipPath id="clip0_40000261_25329">
                                  <rect
                                    x="2.01831"
                                    y="2.01953"
                                    width="19.7526"
                                    height="19.7526"
                                    rx="9.87629"
                                    fill="white"
                                  />
                                </clipPath>
                              </defs>
                            </svg>
                          </p>
                          <p className="-mt-1 text-left font-inter font-medium text-[12px] text-[#667877]">
                            {viewerData?.user_name}
                          </p>
                        </div>
                      </div>
                    )
                  )}
              </div>
            </>
          )}
        </div>

        {/* Stories Component */}
        <Stories
          stories={storyData.map((story) => ({
            url: story.url,
            type: story.type,
          }))}
          defaultInterval={5000}
          width={396}
          height={650}
          currentIndex={activeStory} // Set the current story index
          className="StoriesCss"
          onStoryChange={(index) => handleStoryStart(index)} // Update active story index
        />
      </div>
    </div>
  );
};

export default StoryViewPage;
